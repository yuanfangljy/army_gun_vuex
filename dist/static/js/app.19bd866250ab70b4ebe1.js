webpackJsonp([1],{"+bpr":function(t,e){},"1aud":function(t,e){},"3wba":function(t,e){},"54My":function(t,e){},"6Vul":function(t,e){},"84i5":function(t,e){},DTpS:function(t,e){},Emnu:function(t,e,a){var s,i;a("LGuY"),s=[a("7t+N")],void 0===(i=function(t){return function(){function e(e,a){return e||(e=o()),(l=t("#"+e.containerId)).length?l:(a&&(l=function(e){return(l=t("<div/>").attr("id",e.containerId).addClass(e.positionClass)).appendTo(t(e.target)),l}(e)),l)}function a(e){for(var a=l.children(),i=a.length-1;i>=0;i--)s(t(a[i]),e)}function s(e,a,s){var i=!(!s||!s.force)&&s.force;return!(!e||!i&&0!==t(":focus",e).length||(e[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){r(e)}}),0))}function i(t){c&&c(t)}function n(a){function s(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(e){var a=e&&!1!==m.closeMethod?m.closeMethod:m.hideMethod,s=e&&!1!==m.closeDuration?m.closeDuration:m.hideDuration,n=e&&!1!==m.closeEasing?m.closeEasing:m.hideEasing;if(!t(":focus",g).length||e)return clearTimeout(x.intervalId),g[a]({duration:s,easing:n,complete:function(){r(g),clearTimeout(_),m.onHidden&&"hidden"!==I.state&&m.onHidden(),I.state="hidden",I.endTime=new Date,i(I)}})}function c(){(m.timeOut>0||m.extendedTimeOut>0)&&(_=setTimeout(n,m.extendedTimeOut),x.maxHideTime=parseFloat(m.extendedTimeOut),x.hideEta=(new Date).getTime()+x.maxHideTime)}function u(){clearTimeout(_),x.hideEta=0,g.stop(!0,!0)[m.showMethod]({duration:m.showDuration,easing:m.showEasing})}function v(){var t=(x.hideEta-(new Date).getTime())/x.maxHideTime*100;C.width(t+"%")}var m=o(),h=a.iconClass||m.iconClass;if(void 0!==a.optionsOverride&&(m=t.extend(m,a.optionsOverride),h=a.optionsOverride.iconClass||h),!function(t,e){if(t.preventDuplicates){if(e.message===d)return!0;d=e.message}return!1}(m,a)){p++,l=e(m,!0);var _=null,g=t("<div/>"),f=t("<div/>"),b=t("<div/>"),C=t("<div/>"),y=t(m.closeHtml),x={intervalId:null,hideEta:null,maxHideTime:null},I={toastId:p,state:"visible",startTime:new Date,options:m,map:a};return a.iconClass&&g.addClass(m.toastClass).addClass(h),function(){if(a.title){var t=a.title;m.escapeHtml&&(t=s(a.title)),f.append(t).addClass(m.titleClass),g.append(f)}}(),function(){if(a.message){var t=a.message;m.escapeHtml&&(t=s(a.message)),b.append(t).addClass(m.messageClass),g.append(b)}}(),m.closeButton&&(y.addClass(m.closeClass).attr("role","button"),g.prepend(y)),m.progressBar&&(C.addClass(m.progressClass),g.prepend(C)),m.rtl&&g.addClass("rtl"),m.newestOnTop?l.prepend(g):l.append(g),function(){var t="";switch(a.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}g.attr("aria-live",t)}(),g.hide(),g[m.showMethod]({duration:m.showDuration,easing:m.showEasing,complete:m.onShown}),m.timeOut>0&&(_=setTimeout(n,m.timeOut),x.maxHideTime=parseFloat(m.timeOut),x.hideEta=(new Date).getTime()+x.maxHideTime,m.progressBar&&(x.intervalId=setInterval(v,10))),m.closeOnHover&&g.hover(u,c),!m.onclick&&m.tapToDismiss&&g.click(n),m.closeButton&&y&&y.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),m.onCloseClick&&m.onCloseClick(t),n(!0)}),m.onclick&&g.click(function(t){m.onclick(t),n()}),i(I),m.debug&&console&&console.log(I),g}}function o(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},v.options)}function r(t){l||(l=e()),t.is(":visible")||(t.remove(),t=null,0===l.children().length&&(l.remove(),d=void 0))}var l,c,d,p=0,u={error:"error",info:"info",success:"success",warning:"warning"},v={clear:function(t,i){var n=o();l||e(n),s(t,n,i)||a(n)},remove:function(a){var s=o();return l||e(s),a&&0===t(":focus",a).length?void r(a):void(l.children().length&&l.remove())},error:function(t,e,a){return n({type:u.error,iconClass:o().iconClasses.error,message:t,optionsOverride:a,title:e})},getContainer:e,info:function(t,e,a){return n({type:u.info,iconClass:o().iconClasses.info,message:t,optionsOverride:a,title:e})},options:{},subscribe:function(t){c=t},success:function(t,e,a){return n({type:u.success,iconClass:o().iconClasses.success,message:t,optionsOverride:a,title:e})},version:"2.1.3",warning:function(t,e,a){return n({type:u.warning,iconClass:o().iconClasses.warning,message:t,optionsOverride:a,title:e})}};return v}()}.apply(e,s))||(t.exports=i)},"I/5N":function(t,e){},K0LQ:function(t,e){},NB3N:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("//Fk"),i=a.n(s),n=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},o,!1,function(t){a("6Vul")},null,null).exports,l=a("/ocq"),c={name:"Login",data:function(){return{yonghu:"./static/assets/img/yonghu.png",pass:"./static/assets/img/pass.png",beijing:"./static/assets/img/beijing.png"}},methods:{loginSubmit:function(t){var e=this,a=e.$refs.userName.value,s=e.$refs.passWord.value;if(a&&s){var i=new URLSearchParams;i.append("webUserName",a),i.append("webUserPassword",s),e.$axios.post("/webUser/loginWeb",i).then(function(t){console.log(t.data);var a=t.data;"1000"==a.status?(e.$store.commit("SAVE_USERINFO",a),e.$store.commit("SAVE_USERSTATE","true"),e.$store.commit("SAVE_REFRESH",!0),e.$router.replace("/home")):"1001"==a.status?layer.alert(a.errorMessage):$("#error").text("用户或密码不正确")})}else $("#error").text("用户或者密码不能为空")}},created:function(){var t=this;document.onkeydown=function(e){13==window.event.keyCode&&t.loginSubmit()}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"nav_bg"},[a("div",{staticClass:"bor"},[a("div",{staticClass:"wel"},[t._v("用户登录")]),t._v(" "),a("form",{attrs:{id:"login_form",method:"POST"}},[a("div",{staticClass:"Login"},[a("img",{attrs:{src:t.yonghu}}),t._v(" "),a("p",[a("input",{ref:"userName",attrs:{type:"text",id:"userName",placeholder:"用户名"}})])]),t._v(" "),a("div",{staticClass:"pass"},[a("img",{attrs:{src:t.pass}}),t._v(" "),a("p",[a("input",{ref:"passWord",attrs:{type:"password",id:"passWord",placeholder:"请输入密码"}})])]),t._v(" "),a("div"),t._v(" "),a("p",[a("input",{staticClass:"sure",attrs:{type:"button",id:"login",value:"登录"},on:{click:function(e){t.loginSubmit(e)}}})])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"jpg"},[a("img",{attrs:{src:t.beijing}})]),t._v(" "),a("div",{attrs:{id:"box"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("dl",{staticClass:"sign"},[e("dt",[e("a",{attrs:{href:"retrievePassword.html"}},[this._v("忘记密码？")])]),this._v(" "),e("dd",[this._v("新用户请先"),e("a",{attrs:{href:"index.html"}},[this._v("注册")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"rem"},[e("input",{staticClass:"kuai",attrs:{type:"checkbox",value:"1"}}),this._v(" "),e("p",[this._v("记住密码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("span",{staticStyle:{color:"red"},attrs:{id:"error"}}),this._v(" "),e("span",{staticStyle:{color:"red"},attrs:{id:"errorpass"}})])}]};var p=a("VU/8")(c,d,!1,function(t){a("84i5")},"data-v-eccf054e",null).exports,u={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"elements"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"page-title"},[t._v("Elements")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Buttons")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("p",{staticClass:"demo-button"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("Default")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Primary")]),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{type:"button"}},[t._v("Info")]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[t._v("Success")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"}},[t._v("Warning")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[t._v("Danger")])]),t._v(" "),a("br"),t._v(" "),a("p",{staticClass:"demo-button"},[a("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"}},[t._v("Large Size")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Default Size")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"}},[t._v("Small Size")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-xs",attrs:{type:"button"}},[t._v("Extra Small Size")])]),t._v(" "),a("br"),t._v(" "),a("p",{staticClass:"demo-button"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-plus-square"}),t._v(" Default ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-refresh"}),t._v(" Primary")]),t._v(" "),a("button",{staticClass:"btn btn-info",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-info-circle"}),t._v(" Info")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:"disabled"}},[a("i",{staticClass:"fa fa-refresh fa-spin"}),t._v(" Refreshing...")])]),t._v(" "),a("br"),t._v(" "),a("p",{staticClass:"demo-button"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-check-circle"}),t._v(" Success")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-warning"}),t._v(" Warning")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-trash-o"}),t._v(" Danger")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:"disabled"}},[a("i",{staticClass:"fa fa-spinner fa-spin"}),t._v(" Loading...")])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"}},[t._v("Button Block")])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-warning btn-block",attrs:{type:"button"}},[t._v("Button Block")])])])])]),t._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Inputs")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"text field"}}),t._v(" "),a("br"),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"password",value:"asecret"}}),t._v(" "),a("br"),t._v(" "),a("textarea",{staticClass:"form-control",attrs:{placeholder:"textarea",rows:"4"}}),t._v(" "),a("br"),t._v(" "),a("select",{staticClass:"form-control"},[a("option",{attrs:{value:"cheese"}},[t._v("Cheese")]),t._v(" "),a("option",{attrs:{value:"tomatoes"}},[t._v("Tomatoes")]),t._v(" "),a("option",{attrs:{value:"mozarella"}},[t._v("Mozzarella")]),t._v(" "),a("option",{attrs:{value:"mushrooms"}},[t._v("Mushrooms")]),t._v(" "),a("option",{attrs:{value:"pepperoni"}},[t._v("Pepperoni")]),t._v(" "),a("option",{attrs:{value:"onions"}},[t._v("Onions")])]),t._v(" "),a("br"),t._v(" "),a("label",{staticClass:"fancy-checkbox"},[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("span",[t._v("Fancy Checkbox 1")])]),t._v(" "),a("label",{staticClass:"fancy-checkbox"},[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("span",[t._v("Fancy Checkbox 2")])]),t._v(" "),a("label",{staticClass:"fancy-checkbox"},[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("span",[t._v("Fancy Checkbox 3")])]),t._v(" "),a("br"),t._v(" "),a("label",{staticClass:"fancy-radio"},[a("input",{attrs:{name:"gender",value:"male",type:"radio"}}),t._v(" "),a("span",[a("i"),t._v("Male")])]),t._v(" "),a("label",{staticClass:"fancy-radio"},[a("input",{attrs:{name:"gender",value:"female",type:"radio"}}),t._v(" "),a("span",[a("i"),t._v("Female")])])])]),t._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Input Sizing")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("input",{staticClass:"form-control input-lg",attrs:{placeholder:".input-lg",type:"text"}}),t._v(" "),a("br"),t._v(" "),a("input",{staticClass:"form-control",attrs:{placeholder:"Default input",type:"text"}}),t._v(" "),a("br"),t._v(" "),a("input",{staticClass:"form-control input-sm",attrs:{placeholder:".input-sm",type:"text"}}),t._v(" "),a("br"),t._v(" "),a("select",{staticClass:"form-control input-lg"},[a("option",{attrs:{value:"cheese"}},[t._v("Cheese")]),t._v(" "),a("option",{attrs:{value:"tomatoes"}},[t._v("Tomatoes")]),t._v(" "),a("option",{attrs:{value:"mozarella"}},[t._v("Mozzarella")]),t._v(" "),a("option",{attrs:{value:"mushrooms"}},[t._v("Mushrooms")]),t._v(" "),a("option",{attrs:{value:"pepperoni"}},[t._v("Pepperoni")]),t._v(" "),a("option",{attrs:{value:"onions"}},[t._v("Onions")])]),t._v(" "),a("br"),t._v(" "),a("select",{staticClass:"form-control"},[a("option",{attrs:{value:"cheese"}},[t._v("Cheese")]),t._v(" "),a("option",{attrs:{value:"tomatoes"}},[t._v("Tomatoes")]),t._v(" "),a("option",{attrs:{value:"mozarella"}},[t._v("Mozzarella")]),t._v(" "),a("option",{attrs:{value:"mushrooms"}},[t._v("Mushrooms")]),t._v(" "),a("option",{attrs:{value:"pepperoni"}},[t._v("Pepperoni")]),t._v(" "),a("option",{attrs:{value:"onions"}},[t._v("Onions")])]),t._v(" "),a("br"),t._v(" "),a("select",{staticClass:"form-control input-sm"},[a("option",{attrs:{value:"cheese"}},[t._v("Cheese")]),t._v(" "),a("option",{attrs:{value:"tomatoes"}},[t._v("Tomatoes")]),t._v(" "),a("option",{attrs:{value:"mozarella"}},[t._v("Mozzarella")]),t._v(" "),a("option",{attrs:{value:"mushrooms"}},[t._v("Mushrooms")]),t._v(" "),a("option",{attrs:{value:"pepperoni"}},[t._v("Pepperoni")]),t._v(" "),a("option",{attrs:{value:"onions"}},[t._v("Onions")])])])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Labels & Badges")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("span",{staticClass:"label label-default"},[t._v("DEFAULT")]),t._v(" "),a("span",{staticClass:"label label-primary"},[t._v("PRIMARY")]),t._v(" "),a("span",{staticClass:"label label-success"},[t._v("SUCCESS")]),t._v(" "),a("span",{staticClass:"label label-info"},[t._v("INFO")]),t._v(" "),a("span",{staticClass:"label label-warning"},[t._v("WARNING")]),t._v(" "),a("span",{staticClass:"label label-danger"},[t._v("DANGER")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("Inbox "),a("span",{staticClass:"badge"},[t._v("42")])]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tMessages "),a("span",{staticClass:"badge"},[t._v("4")])])])]),t._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Progress Bars")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"60%"},attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("60% Complete")])])]),t._v(" "),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-warning",staticStyle:{width:"60%"},attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("60% Complete (warning)")])])]),t._v(" "),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-success",staticStyle:{width:"60%"},attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("60% Complete (success)")])])]),t._v(" "),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-danger",staticStyle:{width:"60%"},attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("60% Complete (danger)")])])]),t._v(" "),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"75%"},attrs:{role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t75%\n\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-info progress-bar-striped",staticStyle:{width:"20%"},attrs:{role:"progressbar","aria-valuenow":"20","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("20% Complete")])])]),t._v(" "),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped active",staticStyle:{width:"45%"},attrs:{role:"progressbar","aria-valuenow":"45","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("45% Complete")])])]),t._v(" "),a("div",{staticClass:"progress progress-xs"},[a("div",{staticClass:"progress-bar progress-bar-success",staticStyle:{width:"80%"},attrs:{role:"progressbar","aria-valuenow":"80","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("80% Complete")])])])])]),t._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Input Groups")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text"}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Go!")])])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Go!")])]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text"}})]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"fa fa-user"})]),t._v(" "),a("input",{staticClass:"form-control",attrs:{placeholder:"Username",type:"text"}})]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{placeholder:"Username",type:"text"}}),t._v(" "),a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"fa fa-user"})])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[t._v("$")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text"}}),t._v(" "),a("span",{staticClass:"input-group-addon"},[t._v(".00")])])])]),t._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Alert Messages")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"alert alert-info alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("i",{staticClass:"fa fa-info-circle"}),t._v(" The system is running well\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("i",{staticClass:"fa fa-check-circle"}),t._v(" Your settings have been succesfully saved\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"alert alert-warning alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("i",{staticClass:"fa fa-warning"}),t._v(" Warning, check your permission settings\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("i",{staticClass:"fa fa-times-circle"}),t._v(" Your account has been suspended\n\t\t\t\t\t\t\t\t\t")])])])])])])])])}]};var v=a("VU/8")({name:"Elements",data:function(){return{}}},u,!1,function(t){a("f6PT")},"data-v-7675f390",null).exports,m={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tables"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"page-title"},[t._v("Tables")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Basic Table")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("First Name")]),t._v(" "),a("th",[t._v("Last Name")]),t._v(" "),a("th",[t._v("Username")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Steve")]),t._v(" "),a("td",[t._v("Jobs")]),t._v(" "),a("td",[t._v("@steve")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("Simon")]),t._v(" "),a("td",[t._v("Philips")]),t._v(" "),a("td",[t._v("@simon")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("Jane")]),t._v(" "),a("td",[t._v("Doe")]),t._v(" "),a("td",[t._v("@jane")])])])])])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Table Inside No Padding")])]),t._v(" "),a("div",{staticClass:"panel-body no-padding"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("First Name")]),t._v(" "),a("th",[t._v("Last Name")]),t._v(" "),a("th",[t._v("Username")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Steve")]),t._v(" "),a("td",[t._v("Jobs")]),t._v(" "),a("td",[t._v("@steve")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("Simon")]),t._v(" "),a("td",[t._v("Philips")]),t._v(" "),a("td",[t._v("@simon")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("Jane")]),t._v(" "),a("td",[t._v("Doe")]),t._v(" "),a("td",[t._v("@jane")])])])])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Striped Row")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("First Name")]),t._v(" "),a("th",[t._v("Last Name")]),t._v(" "),a("th",[t._v("Username")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Steve")]),t._v(" "),a("td",[t._v("Jobs")]),t._v(" "),a("td",[t._v("@steve")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("Simon")]),t._v(" "),a("td",[t._v("Philips")]),t._v(" "),a("td",[t._v("@simon")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("Jane")]),t._v(" "),a("td",[t._v("Doe")]),t._v(" "),a("td",[t._v("@jane")])])])])])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Hover Row")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-hover"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("First Name")]),t._v(" "),a("th",[t._v("Last Name")]),t._v(" "),a("th",[t._v("Username")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Steve")]),t._v(" "),a("td",[t._v("Jobs")]),t._v(" "),a("td",[t._v("@steve")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("Simon")]),t._v(" "),a("td",[t._v("Philips")]),t._v(" "),a("td",[t._v("@simon")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("Jane")]),t._v(" "),a("td",[t._v("Doe")]),t._v(" "),a("td",[t._v("@jane")])])])])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Bordered Table")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("First Name")]),t._v(" "),a("th",[t._v("Last Name")]),t._v(" "),a("th",[t._v("Username")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Steve")]),t._v(" "),a("td",[t._v("Jobs")]),t._v(" "),a("td",[t._v("@steve")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("Simon")]),t._v(" "),a("td",[t._v("Philips")]),t._v(" "),a("td",[t._v("@simon")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("Jane")]),t._v(" "),a("td",[t._v("Doe")]),t._v(" "),a("td",[t._v("@jane")])])])])])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v("Condensed Table")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-condensed"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("First Name")]),t._v(" "),a("th",[t._v("Last Name")]),t._v(" "),a("th",[t._v("Username")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("Steve")]),t._v(" "),a("td",[t._v("Jobs")]),t._v(" "),a("td",[t._v("@steve")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("Simon")]),t._v(" "),a("td",[t._v("Philips")]),t._v(" "),a("td",[t._v("@simon")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("Jane")]),t._v(" "),a("td",[t._v("Doe")]),t._v(" "),a("td",[t._v("@jane")])])])])])])])])])])])}]};var h=a("VU/8")({name:"Tables",data:function(){return{}}},m,!1,function(t){a("U5bq")},"data-v-0db886be",null).exports;function _(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var s in a)if(new RegExp("("+s+")").test(e)){var i=a[s]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?i:g(i))}return e}function g(t){return("00"+t).substr(t.length)}a("mw3O");var f={name:"GunList",data:function(){return{gunList:[],filterInput:"",gun:"",gunAdd:"",headlineGun:"",isShow:!1,isShowTime:!1,checkDataIds:[],pn:1,all:"",cur:"",total:"",pageSize:""}},watch:{checkDataIds:{handler:function(){0==this.checkDataIds.length?$("#batchAllocation").attr("disabled","disabled"):$("#batchAllocation").removeAttr("disabled"),$("#cAll").checked?(alert(123),$(".gIdcheckItem").prop("checked",$(this).prop("checked"))):this.checkDataIds.length<$(".gIdcheckItem").length?$("#cAll").prop("checked",!1):$(".gIdcheckItem:checked").length==$(".gIdcheckItem").length&&$("#cAll").prop("checked",!0)},deep:!0},cur:function(t,e){console.log(arguments)}},methods:{checkAll:function(t){var e=document.querySelectorAll(".gIdcheckItem");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIds.push(e[a].value);else this.checkDataIds=[]},getGunLists:function(t){var e=this;this.$axios.get("/gun/readGunList?pn="+t).then(function(t){for(var a in e.gunList=t.data.extend.pageInfo.list,e.gunList)e.gunList[a].gunType=0==e.gunList[a].gunType?"长枪":"短枪";var s=t.data.extend.pageInfo;e.all=s.pages,e.cur=s.pageNum,e.total=s.total,e.pageSize=s.pageSize})},filterBy:function(t,e){return t.filter(function(t){return t.gunId.match(e)})},detailsGun:function(t){var e=this;this.isShow=!1,this.isShowTime=!0,this.$axios.get("/gun/readGun?gunId="+t).then(function(t){for(var a in e.gun=t.data.extend.getGun,e.gun){var s=new Date(e.gun.createTime),i=new Date(e.gun.updateTime);e.gun.createTime=_(s,"yyyy-MM-dd hh:mm:ss"),e.gun.updateTime=_(i,"yyyy-MM-dd hh:mm:ss")}e.headlineGun="枪支详细"})},updateGunS:function(t){var e=this;this.isShow=!0,this.isShowTime=!1,this.$axios.get("/gun/readGun?gunId="+t).then(function(t){e.gun=t.data.extend.getGun,e.headlineGun="修改枪支信息"})},updateGun:function(t){var e=this;if(this.gun.gunId&&this.gun.gunModel&&this.gun.gunType){a("mw3O");var s=new URLSearchParams;s.append("id",this.gun.id),s.append("uid",this.gun.uid),s.append("isDel",this.gun.isDel),s.append("gunId",this.gun.gunId),s.append("gunModel",this.gun.gunModel),s.append("gunType",this.gun.gunType),s.append("gunMac",this.gun.gunMac),s.append("warehouseId",this.gun.warehouseId),s.append("warehouseName",this.gun.warehouseName),s.append("version",this.gun.version),this.$axios.put("/gun/updateGun",s).then(function(t){"1000"==t.data.status?($("#exampleModal").modal("hide"),e.getGunLists(e.cur),Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage})):layer.alert(t.data.errorMessage,{icon:2,skin:"layer-ext-moon"})}).catch(function(t){return console.log("error",t),t}),t.preventDefault()}else layer.alert("请添加对应的信息!");t.preventDefault()},deleteGun:function(t,e){var a=this;layer.confirm("确定要["+e+"]删除？",{btn:["确定","取消"]},function(){a.$axios.delete("/gun/deleteGun?gunId="+t+"&type=1").then(function(t){t.data;"1000"==t.data.status?($("#batchAllocation").attr("disabled","disabled"),a.checkDataIds=[],a.getGunLists(a.cur),$(".gIdcheckItem:checked").prop("checked",!1),Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage})):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage}),layer.msg("删除成功",{time:500})})},function(){layer.msg("取消成功",{time:500})})},deleteGunAll:function(){var t=this;t.checkDataIds<1?layer.alert("请勾选您要删除的信息",{icon:3,skin:"layer-ext-moon"}):layer.confirm("确定要["+t.checkDataIds+"]删除？",{btn:["确定","取消"]},function(){t.$axios.delete("/gun/deleteGun?gunId="+t.checkDataIds+"&type=1").then(function(e){e.data;"1000"==e.data.status?(t.getGunLists(t.cur),$("#batchAllocation").attr("disabled","disabled"),t.checkDataIds=[],Lobibox.notify("success",{size:"mini",msg:e.data.errorMessage})):Lobibox.notify("error",{size:"mini",msg:e.data.errorMessage}),layer.msg("删除成功",{time:500})})},function(){layer.msg("取消成功",{time:500})})},reset_from:function(t){$(t)[0].reset()},createGunS:function(){this.isShow=!1,this.isShowTime=!1,this.headlineGun="新增枪支信息",this.reset_from("#exampleModalAdd form")},createGun:function(t){var e=this;if(e.$refs.gunId.value&&e.$refs.gunModel.value&&e.$refs.gunType.value){a("mw3O");var s=new URLSearchParams;s.append("gunId",e.$refs.gunId.value),s.append("gunModel",e.$refs.gunModel.value),s.append("gunType",e.$refs.gunType.value),s.append("gunMac",e.$refs.gunMac.value),s.append("warehouseId",e.$refs.warehouseId.value),s.append("warehouseName",e.$refs.warehouseName.value),e.$axios.post("/gun/createGun",s).then(function(t){console.log(t.data),"1000"==t.data.status?($("#exampleModalAdd").modal("hide"),e.getGunLists(e.cur),Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage})):(t.data.status,layer.msg(t.data.errorMessage,{icon:3}))}).catch(function(t){return console.log("error",t),t}),t.preventDefault()}else layer.alert("请添加对应的信息!");t.preventDefault()},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getGunLists(this.cur))},pageClick:function(){this.getGunLists(this.cur),console.log("现在在"+this.cur+"页")}},created:function(){this.getGunLists(this.pn)},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a}},filters:{formatDate:function(t){return _(new Date(t),"yyyy-MM-dd hh:mm:ss")}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gunList"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v(t._s(t.$route.name))])]),t._v(" "),a("div",{staticClass:"col-md-offset-10"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModalAdd"},on:{click:t.createGunS}},[a("i",{staticClass:"fa fa-plus-square"}),t._v(" 新增\n                  ")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterInput,expression:"filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.filterInput},on:{input:function(e){e.target.composing||(t.filterInput=e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[a("input",{attrs:{id:"cAll",type:"checkbox"},on:{click:function(e){t.checkAll(e)}}})]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支型号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支类型")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("蓝牙编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("库房")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("创建时间")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.filterBy(t.gunList,t.filterInput),function(e){return a("tr",{key:e.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkDataIds,expression:"checkDataIds"}],staticClass:"gIdcheckItem",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.checkDataIds)?t._i(t.checkDataIds,e.id)>-1:t.checkDataIds},on:{change:function(a){var s=t.checkDataIds,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=e.id,r=t._i(s,o);i.checked?r<0&&(t.checkDataIds=s.concat([o])):r>-1&&(t.checkDataIds=s.slice(0,r).concat(s.slice(r+1)))}else t.checkDataIds=n}}})]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunId))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunModel))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunType))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunMac))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.warehouseName))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatDate")(e.createTime)))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){t.detailsGun(e.id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-warning btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){t.updateGunS(e.id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t修改\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(a){t.deleteGun(e.id,e.gunId)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total==0"}],staticClass:"text-center"},[a("span",{staticStyle:{color:"orange"}},[t._v(" 暂无数据...... ")])]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:0!=t.total,expression:"total!=0"}],staticClass:"btn btn-danger btn-sm",attrs:{type:"button",id:"batchAllocation",disabled:"disabled"},on:{click:t.deleteGunAll}},[a("i",{staticClass:"fa fa-trash-o"}),t._v(" 批量删除\n\t\t\t\t\t\t\t\t  ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[t._v("<")])]):t._e(),t._v(" "),1==t.cur?a("li",[a("a",{staticClass:"banclick"},[t._v("<")])]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[t._v(">")])]):t._e(),t._v(" "),t.cur==t.all?a("li",[a("a",{staticClass:"banclick"},[t._v(">")])]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])])])])])])])]),t._v(" "),a("form",[a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.headlineGun))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("枪支编号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.id,expression:"gun.id"}],staticClass:"form-control",attrs:{type:"hidden",id:"formGroupInputSmall",placeholder:""},domProps:{value:t.gun.id},on:{input:function(e){e.target.composing||t.$set(t.gun,"id",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.version,expression:"gun.version"}],staticClass:"form-control",attrs:{type:"hidden",id:"formGroupInputSmall",placeholder:""},domProps:{value:t.gun.version},on:{input:function(e){e.target.composing||t.$set(t.gun,"version",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.gunId,expression:"gun.gunId"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"枪支编号"},domProps:{value:t.gun.gunId},on:{input:function(e){e.target.composing||t.$set(t.gun,"gunId",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.uid,expression:"gun.uid"}],staticClass:"form-control",attrs:{type:"hidden",id:"formGroupInputSmall",placeholder:"枪支编号"},domProps:{value:t.gun.uid},on:{input:function(e){e.target.composing||t.$set(t.gun,"uid",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.isDel,expression:"gun.isDel"}],staticClass:"form-control",attrs:{type:"hidden",id:"formGroupInputSmall",placeholder:"枪支编号"},domProps:{value:t.gun.isDel},on:{input:function(e){e.target.composing||t.$set(t.gun,"isDel",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("枪支型号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.gunModel,expression:"gun.gunModel"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"枪支型号"},domProps:{value:t.gun.gunModel},on:{input:function(e){e.target.composing||t.$set(t.gun,"gunModel",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("枪支类型")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.gunType,expression:"gun.gunType"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"枪支类型"},domProps:{value:t.gun.gunType},on:{input:function(e){e.target.composing||t.$set(t.gun,"gunType",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("蓝牙编号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.gunMac,expression:"gun.gunMac"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"蓝牙编号"},domProps:{value:t.gun.gunMac},on:{input:function(e){e.target.composing||t.$set(t.gun,"gunMac",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("库室")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.warehouseId,expression:"gun.warehouseId"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"库室"},domProps:{value:t.gun.warehouseId},on:{input:function(e){e.target.composing||t.$set(t.gun,"warehouseId",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("库房名称")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.warehouseName,expression:"gun.warehouseName"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"库房名称"},domProps:{value:t.gun.warehouseName},on:{input:function(e){e.target.composing||t.$set(t.gun,"warehouseName",e.target.value)}}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowTime,expression:"isShowTime"}],staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("创建时间")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.createTime,expression:"gun.createTime"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"创建时间"},domProps:{value:t.gun.createTime},on:{input:function(e){e.target.composing||t.$set(t.gun,"createTime",e.target.value)}}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowTime,expression:"isShowTime"}],staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("更新时间")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gun.updateTime,expression:"gun.updateTime"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"更新时间"},domProps:{value:t.gun.updateTime},on:{input:function(e){e.target.composing||t.$set(t.gun,"updateTime",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateGun}},[t._v("确认")])])])])])]),t._v(" "),a("form",[a("div",{staticClass:"modal fade",attrs:{id:"exampleModalAdd",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.headlineGun))]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("枪支编号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"gunId",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"枪支编号"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("枪支型号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"gunModel",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"枪支型号"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("枪支类型")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"gunType",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"枪支类型"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("蓝牙编号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"gunMac",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"蓝牙编号"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("库室")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"warehouseId",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"库室"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("库房名称")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"warehouseName",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"库房名称"}})])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.createGun}},[t._v("提交")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]};var C=a("VU/8")(f,b,!1,function(t){a("lqU4")},"data-v-5b05059a",null).exports,y=a("BO1k"),x=a.n(y),I={name:"DeliveryWarehouse",data:function(){return{gunListPreselected:[],filterInputPreselected:"",checkDataIdsP:[],gunIds:"",appId:"",gunUserId:"",selectedUser:"",userAppList:[],userId:[],userName:[],users:"",returnTime:""}},watch:{checkDataIdsP:{handler:function(){4==this.checkDataIdsP.length?document.querySelector("#cAllP").checked=!0:document.querySelector("#cAllP").checked=!1},deep:!0}},methods:{checkAllP:function(t){var e=document.querySelectorAll(".gIdcheckItemP");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIdsP.push(e[a].value);else this.checkDataIdsP=[]},getGunListPreselected:function(){var t=this;this.$axios.get("/gun/readGunsPreselected").then(function(e){console.log(e.data.extend.pageInfo.list),t.gunListPreselected=e.data.extend.pageInfo.list;var a=!0,s=!1,i=void 0;try{for(var n,o=x()(t.gunListPreselected);!(a=(n=o.next()).done);a=!0){var r=n.value;t.getUser(r.apps.id)}}catch(t){s=!0,i=t}finally{try{!a&&o.return&&o.return()}finally{if(s)throw i}}})},filterByPreselected:function(t,e){return t.filter(function(t){return t.gunId.match(e)})},affirmDelivery:function(t,e,a,s){alert(t+"++"+e+"++"+a+"++"+this.returnTime+"++"+s),this.returnTime?this.$axios.put("/wareHouseRecords/endWareHouseRecordsDelivery?userId="+t+"&gunId="+e+"&gunMac="+a+"&returnTime="+this.returnTime+"&appId="+s).then(function(t){console.log(t.data)}):alert("请选择截止时间")},revocationDelivery:function(t,e){this.$axios.delete("/wareHouseRecords/revocationWareHouseRecordsDelivery?gunId="+t+"&appId="+e).then(function(t){console.log(t.data)})},beforehandDelivery:function(t){this.selectedUser?this.$axios.post("/wareHouseRecords/createWareHouseRecordsBeforehandDelivery?gunIds="+t+"&gunUserId="+this.selectedUser).then(function(t){console.log(t.data)}):alert("请选择绑定用户")},beforehandDeliveryAll:function(){this.selectedUser?this.checkDataIdsNP.length<1?alert("请选择出库的枪支"):this.$axios.post("/wareHouseRecords/createWareHouseRecordsBeforehandDelivery?gunIds="+this.checkDataIdsNP+"&gunUserId="+this.selectedUser).then(function(t){console.log(t.data)}):alert("请选择绑定用户")},getUserApp:function(){var t=this;this.$axios.get("/appGunUser/readAppGunUserList").then(function(e){console.log(e.data.extend.pageInfo),t.userAppList=e.data.extend.pageInfo})},getUser:function(t){var e=this;this.$axios.get("/gunUser/readGunUser?appId="+t).then(function(t){e.users=t.data.extend.getUser,e.users.userId&&e.users.userName?(e.userId.push(e.users.userId),e.userName.push(e.users.userName)):(e.userId.push("暂无"),e.userName.push("暂无")),console.log(t.data.extend.getUser)})}},created:function(){this.getGunListPreselected(),this.getUserApp()}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deliveryWarehouse"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"page-title"},[t._v("枪支出库操作")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[t._v("\n\t\t\t\t\t\t\t\t\t截止时间："),a("input",{directives:[{name:"model",rawName:"v-model",value:t.returnTime,expression:"returnTime"}],attrs:{type:"date",name:"returnTime",id:"returnTime"},domProps:{value:t.returnTime},on:{input:function(e){e.target.composing||(t.returnTime=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){t.beforehandDeliveryAll()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t批量出库\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-warning btn-sm",attrs:{type:"button"},on:{click:function(e){t.beforehandDeliveryAll()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t批量撤销\n\t\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[t._m(0),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[a("input",{attrs:{id:"cAllP",type:"checkbox"},on:{click:function(e){t.checkAllP(e)}}})]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("人员姓名")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("人员编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支型号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支类型")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支蓝牙")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.filterByPreselected(t.gunListPreselected,t.filterInputPreselected),function(e,s){return a("tr",{key:e.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkDataIdsP,expression:"checkDataIdsP"}],staticClass:"gIdcheckItemP",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.checkDataIdsP)?t._i(t.checkDataIdsP,e.id)>-1:t.checkDataIdsP},on:{change:function(a){var s=t.checkDataIdsP,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=e.id,r=t._i(s,o);i.checked?r<0&&(t.checkDataIdsP=s.concat([o])):r>-1&&(t.checkDataIdsP=s.slice(0,r).concat(s.slice(r+1)))}else t.checkDataIdsP=n}}})]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.apps.appName))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.userId[s]))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t.userName[s]))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunId))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunModel))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunType))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunMac))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.affirmDelivery(t.userId[s],e.gunId,e.gunMac,e.apps.appName)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t出库\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-warning btn-sm",attrs:{type:"button"},on:{click:function(a){t.revocationDelivery(e.gunId,e.apps.appName)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t撤销\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])}))])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("军械员操作出库")]),this._v(" "),e("div",{staticClass:"right"},[e("button",{staticClass:"btn-toggle-collapse",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-chevron-up"})]),this._v(" "),e("button",{staticClass:"btn-remove",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-cross"})])])])}]};var w=a("VU/8")(I,k,!1,function(t){a("DTpS")},"data-v-4048b140",null).exports,S={name:"AllocationGun",data:function(){return{gunListNotPreselected:[],filterInputNotPreselected:"",checkDataIdsNP:[],gunIds:"",appId:"",gunUserId:"",selectedUser:"",selectedApp:"",userAppList:[],appList:[]}},watch:{checkDataIdsNP:{handler:function(){4==this.checkDataIdsNP.length?document.querySelector("#cAllNP").checked=!0:document.querySelector("#cAllNP").checked=!1},deep:!0}},methods:{checkAllNP:function(t){var e=document.querySelectorAll(".gIdcheckItemNP");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIdsNP.push(e[a].value);else this.checkDataIdsNP=[]},getGunListNotPreselected:function(){var t=this;this.$axios.get("/gun/readGunsNotPreselected").then(function(e){t.gunListNotPreselected=e.data.extend.pageInfo.list})},filterByNotPreselected:function(t,e){return t.filter(function(t){return t.gunId.match(e)})},beforehandDelivery:function(t){this.selectedApp?this.$axios.post("/wareHouseRecords/createWareHouseRecordsBeforehandDelivery?gunIds="+t+"&gunUserId="+this.selectedUser).then(function(t){console.log(t.data)}):alert("请选择绑定设备")},beforehandDeliveryAll:function(){this.selectedApp?this.checkDataIdsNP.length<1?alert("请选择出库的枪支"):this.$axios.post("/wareHouseRecords/createWareHouseRecordsBeforehandDelivery?gunIds="+this.checkDataIdsNP+"&appIMEI="+this.selectedApp+"&gunUserId="+this.selectedUser).then(function(t){console.log(t.data)}):alert("请选择绑定用户")},getUserApp:function(){var t=this;this.$axios.get("/appGunUser/readAppGunUserList").then(function(e){console.log(e.data.extend.pageInfo),t.userAppList=e.data.extend.pageInfo})},getApp:function(){var t=this;this.$axios.get("/app/readAppList").then(function(e){console.log(e.data.extend.pageInfo.list),t.appList=e.data.extend.pageInfo.list})}},created:function(){this.getGunListNotPreselected(),this.getUserApp(),this.getApp()}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allocationGun"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"page-title"},[t._v("枪支分配")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedUser,expression:"selectedUser"}],staticClass:"form-control",on:{click:function(e){t.getUserApp()},change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedUser=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("请选择用户")]),t._v(" "),t._l(t.userAppList,function(e){return a("option",{domProps:{value:e.gunUser.userName}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.gunUser.userName)+"\n\t\t\t\t\t\t\t\t\t\t")])})],2),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedApp,expression:"selectedApp"}],staticClass:"form-control",on:{click:function(e){t.getApp()},change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedApp=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("请选择设备")]),t._v(" "),t._l(t.appList,function(e){return a("option",{domProps:{value:e.appImei}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.appName)+"\n\t\t\t\t\t\t\t\t\t\t")])})],2)]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){t.beforehandDeliveryAll()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t批量出库分配\n\t\t\t\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[t._m(0),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[a("input",{attrs:{id:"cAllNP",type:"checkbox"},on:{click:function(e){t.checkAllNP(e)}}})]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支型号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支类型")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("蓝牙号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.filterByNotPreselected(t.gunListNotPreselected,t.filterInputNotPreselected),function(e){return a("tr",{key:e.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkDataIdsNP,expression:"checkDataIdsNP"}],staticClass:"gIdcheckItemNP",attrs:{type:"checkbox"},domProps:{value:e.gunId,checked:Array.isArray(t.checkDataIdsNP)?t._i(t.checkDataIdsNP,e.gunId)>-1:t.checkDataIdsNP},on:{change:function(a){var s=t.checkDataIdsNP,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=e.gunId,r=t._i(s,o);i.checked?r<0&&(t.checkDataIdsNP=s.concat([o])):r>-1&&(t.checkDataIdsNP=s.slice(0,r).concat(s.slice(r+1)))}else t.checkDataIdsNP=n}}})]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunId))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunModel))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunType))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunMac))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.beforehandDelivery(e.gunId)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t出库分配\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])}))])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("枪支列表")]),this._v(" "),e("div",{staticClass:"right"},[e("button",{staticClass:"btn-toggle-collapse",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-chevron-up"})]),this._v(" "),e("button",{staticClass:"btn-remove",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-cross"})])])])}]};var M=a("VU/8")(S,L,!1,function(t){a("kxXE")},"data-v-2deee398",null).exports,A={name:"StorageWarehouse",data:function(){return{warehouseList:[],filterInput:"",checkDataIds:[],warehouseLists:[],filterInputs:"",checkDataIdss:[],appImeis:[],pn:1,all:"",cur:"",total:"",pageSize:"",pnj:1,allj:"",curj:"",totalj:"",pageSizej:""}},watch:{cur:function(t,e){console.log(arguments)},curj:function(t,e){console.log(arguments)},checkDataIds:{handler:function(){$("#wrAll").checked?$(".wrIdcheckItem").prop("checked",$(this).prop("checked")):$(".wrIdcheckItem:checked").length==$(".wrIdcheckItem").length&&$("#wrAll").prop("checked",flag)},deep:!0},checkDataIdss:{handler:function(){$("#wrAlls").checked?$(".wrIdcheckItems").prop("checked",$(this).prop("checked")):$(".wrIdcheckItems:checked").length==$(".wrIdcheckItems").length&&$("#wrAlls").prop("checked",flag)},deep:!0}},methods:{checkAll:function(t){var e=document.querySelectorAll(".wrIdcheckItem");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||(this.checkDataIds.push(e[a].value),this.appImeis.push($("#"+e[a].value).val()));else this.appImeis=[],this.checkDataIds=[]},checkAlls:function(t){var e=document.querySelectorAll(".wrIdcheckItems");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIdss.push(e[a].value);else this.checkDataIdss=[]},getWarehouseList:function(t){var e=this;this.$axios.get("/wareHouseRecords/readWareHouseRecords?typeState=2&pn="+t).then(function(t){console.log(t.data.extend.pageInfo.list),e.warehouseList=t.data.extend.pageInfo.list;var a=t.data.extend.pageInfo;e.all=a.pages,e.cur=a.pageNum,e.total=a.total,e.pageSize=a.pageSize})},filterBy:function(t,e){return t.filter(function(t){return t.gunId.match(e)})},getWarehouseLists:function(t){var e=this;this.$axios.get("/wareHouseRecords/readWareHouseRecords?typeState=3&pn="+t).then(function(t){console.log(t.data.extend.pageInfo.list),e.warehouseLists=t.data.extend.pageInfo.list;var a=t.data.extend.pageInfo;e.allj=a.pages,e.curj=a.pageNum,e.totalj=a.total,e.pageSizej=a.pageSize})},filterBys:function(t,e){return t.filter(function(t){return t.gunId.match(e)})},storagePreselected:function(t,e){this.$axios.post("/wareHouseRecords/createWareHouseRecordsBeforehandStorage?gunId="+t+"&appImei="+e).then(function(t){"1000"==t.data.status?Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage})})},storagePreselecteds:function(){this.checkDataIds.length<1?alert("请选择预入库的枪支"):this.$axios.post("/wareHouseRecords/revocationWareHouseRecordsStorage?gunId="+this.checkDataIds+"&appImei="+appImei).then(function(t){console.log(t.data)})},affirmStorage:function(t,e,a){this.$axios.delete("/wareHouseRecords/revocationWareHouseRecordsStorage?gunId="+t+"&appId="+a+"&gunMac="+e+"&state=1").then(function(t){"1000"==t.data.status?Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage})})},revocationStorage:function(t,e,a){var s=this;layer.confirm("确定要撤销入库？",{btn:["确定","取消"]},function(){s.$axios.delete("/wareHouseRecords/revocationWareHouseRecordsStorage?gunId="+t+"&appId="+a+"&gunMac="+e).then(function(t){"1000"==t.data.status?Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage}),layer.msg("撤销成功",{time:500})})},function(){layer.msg("取消成功",{time:500})})},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getWarehouseList(this.cur))},pageClick:function(){this.getWarehouseList(this.cur),console.log("现在在"+this.cur+"页")},btnClickj:function(t){t!=this.curj&&(this.curj=t,this.getWarehouseLists(this.curj))},pageClickj:function(){this.getWarehouseLists(this.curj),console.log("现在在"+this.curj+"页")}},created:function(){this.getWarehouseList(this.pn),this.getWarehouseLists(this.pnj)},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a},indexsj:function(){var t=1,e=this.allj,a=[];for(this.allj>=5&&(this.curj>3&&this.curj<this.allj-2?(t=this.curj-2,e=this.curj+2):this.curj<=3?(t=1,e=5):(e=this.allj,t=this.allj-4));t<=e;)a.push(t),t++;return a}},filters:{formatDate:function(t){return _(new Date(t),"yyyy-MM-dd hh:mm:ss")}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"storageWarehouse"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"page-title"},[t._v(t._s(t.$route.name))]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[t._m(0),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[a("input",{attrs:{id:"wrAll",type:"checkbox"},on:{click:function(e){t.checkAll(e)}}})]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支蓝牙")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("出库时间")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.filterBy(t.warehouseList,t.filterInput),function(e,s){return a("tr",[a("td",{staticStyle:{width:"63px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkDataIds,expression:"checkDataIds"}],staticClass:"wrIdcheckItem",attrs:{type:"checkbox"},domProps:{value:e.gunId,checked:Array.isArray(t.checkDataIds)?t._i(t.checkDataIds,e.gunId)>-1:t.checkDataIds},on:{change:function(a){var s=t.checkDataIds,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=e.gunId,r=t._i(s,o);i.checked?r<0&&(t.checkDataIds=s.concat([o])):r>-1&&(t.checkDataIds=s.slice(0,r).concat(s.slice(r+1)))}else t.checkDataIds=n}}}),t._v(" "),a("input",{attrs:{type:"hidden",id:e.gunId},domProps:{value:e.apps.appImei}})]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.appId))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunId))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.guns.gunMac))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatDate")(e.warehouseOutTime)))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.storagePreselected(e.gunId,e.apps.appImei)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  入库\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-warning btn-sm",attrs:{type:"button"},on:{click:function(e){t.revocationStorage(t.warehouses.gunId,t.warehouses.guns.gunMac,t.warehouses.apps.appImei)}}},[t._v("\n                                撤销\n                            ")])])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total==0"}],staticClass:"text-center"},[a("span",{staticStyle:{color:"orange"}},[t._v(" 暂无数据...... ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[t._v("<")])]):t._e(),t._v(" "),1==t.cur?a("li",[a("a",{staticClass:"banclick"},[t._v("<")])]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[t._v(">")])]):t._e(),t._v(" "),t.cur==t.all?a("li",[a("a",{staticClass:"banclick"},[t._v(">")])]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("军械员操作入库")]),this._v(" "),e("div",{staticClass:"right"},[e("button",{staticClass:"btn-toggle-collapse",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-chevron-up"})]),this._v(" "),e("button",{staticClass:"btn-remove",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-cross"})])])])}]};var N=a("VU/8")(A,P,!1,function(t){a("ysJE")},"data-v-2008e0c2",null).exports,D={name:"DistributionStorage",data:function(){return{gunListNotPreselected:[],filterInputNotPreselected:"",checkDataIdsNP:[],gunIds:"",appId:"",gunUserId:"",selectedUser:"",selectedApp:"",userAppList:[],appList:[],pn:1,all:"",cur:"",total:"",pageSize:""}},watch:{checkDataIdsNP:{handler:function(){0==this.checkDataIdsNP.length?$("#batchAllocation").attr("disabled","disabled"):$("#batchAllocation").removeAttr("disabled"),$("#cAllNP").checked?$(".gIdcheckItemNP").prop("checked",$(this).prop("checked")):this.checkDataIdsNP.length<$(".gIdcheckItemNP").length?$("#cAllNP").prop("checked",!1):$(".gIdcheckItemNP:checked").length==$(".gIdcheckItemNP").length&&$("#cAllNP").prop("checked",!0)},deep:!0},cur:function(t,e){console.log(arguments)}},methods:{checkAllNP:function(t){var e=document.querySelectorAll(".gIdcheckItemNP");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIdsNP.push(e[a].value);else this.checkDataIdsNP=[]},getGunListNotPreselected:function(t){var e=this;this.$axios.get("/gun/readGunsNotPreselected?pn="+t).then(function(t){for(var a in e.gunListNotPreselected=t.data.extend.pageInfo.list,e.gunListNotPreselected)e.gunListNotPreselected[a].gunType=0==e.gunListNotPreselected[a].gunType?"长枪":"短枪";var s=t.data.extend.pageInfo;e.all=s.pages,e.cur=s.pageNum,e.total=s.total,e.pageSize=s.pageSize})},filterByNotPreselected:function(t,e){return t.filter(function(t){return t.gunId.match(e)})},distributionStorage:function(t){var e=this;e.selectedApp?e.$axios.post("/appGun/createAppGun?gunIds="+t+"&appId="+e.selectedApp+"&gunUserId="+e.selectedUser).then(function(t){"1000"==t.data.status?($("#batchAllocation").attr("disabled","disabled"),e.getGunListNotPreselected(e.pn),e.checkDataIdsNP=[],Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage})):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage})}):layer.msg("请选择绑定设备",{time:1e3})},distributionStorageAll:function(){var t=this;t.selectedApp?t.checkDataIdsNP.length<1?layer.msg("请选择出库的枪支",{time:1e3}):t.$axios.post("/appGun/createAppGun?gunIds="+t.checkDataIdsNP+"&appId="+t.selectedApp+"&gunUserId="+t.selectedUser).then(function(e){"1000"==e.data.status?(t.checkDataIdsNP=[],$("#batchAllocation").attr("disabled","disabled"),t.getGunListNotPreselected(t.pn),document.querySelector("#cAllNP").checked=!1,t.getGunListNotPreselected(t.pn),Lobibox.notify("success",{size:"mini",msg:e.data.errorMessage})):Lobibox.notify("error",{size:"mini",msg:e.data.errorMessage})}):layer.msg("请选择绑定设备",{time:1e3})},getUserApp:function(){var t=this;this.$axios.get("/gunUser/readGunUserNoBinding?type=0").then(function(e){t.userAppList=e.data.extend.gunUserList})},getApp:function(){var t=this;this.$axios.get("/app/readAppList").then(function(e){t.appList=e.data.extend.pageInfo.list})},outboundInitialization:function(){var t=this;this.$axios.put("/operation/outboundInitialization").then(function(e){"1000"==e.data.status?(t.getGunListNotPreselected(t.cur),Lobibox.notify("success",{size:"mini",msg:e.data.errorMessage})):Lobibox.notify("error",{size:"mini",msg:e.data.errorMessage})})},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getGunListNotPreselected(this.cur))},pageClick:function(){this.getGunListNotPreselected(this.cur),console.log("现在在"+this.cur+"页")}},created:function(){this.getGunListNotPreselected(this.pn),this.getUserApp(),this.getApp()},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"distributionStorage"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"row"},[a("div",{},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("用户")]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedUser,expression:"selectedUser"}],staticClass:"form-control",on:{click:function(e){t.getUserApp()},change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedUser=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("请选择用户")]),t._v(" "),t._l(t.userAppList,function(e){return a("option",{domProps:{value:e.userId}},[t._v("\n                                    "+t._s(e.userName)+"\n                                ")])})],2)])]),t._v(" "),a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"inputPassword"}},[t._v("设备")]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedApp,expression:"selectedApp"}],staticClass:"form-control",on:{click:function(e){t.getApp()},change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedApp=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("请选择设备")]),t._v(" "),t._l(t.appList,function(e){return a("option",{domProps:{value:e.id}},[t._v("\n                                    "+t._s(e.appName)+"\n                                ")])})],2)]),t._v(" "),a("div",{staticClass:"col-sm-2"},[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.outboundInitialization()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t初始化出库\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v(t._s(t.$route.name))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-bordered table-hover"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"63px"}},[a("input",{attrs:{id:"cAllNP",type:"checkbox"},on:{click:function(e){t.checkAllNP(e)}}})]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支型号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支类型")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("蓝牙号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.filterByNotPreselected(t.gunListNotPreselected,t.filterInputNotPreselected),function(e){return a("tr",{key:e.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkDataIdsNP,expression:"checkDataIdsNP"}],staticClass:"gIdcheckItemNP",attrs:{type:"checkbox"},domProps:{value:e.gunId,checked:Array.isArray(t.checkDataIdsNP)?t._i(t.checkDataIdsNP,e.gunId)>-1:t.checkDataIdsNP},on:{change:function(a){var s=t.checkDataIdsNP,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=e.gunId,r=t._i(s,o);i.checked?r<0&&(t.checkDataIdsNP=s.concat([o])):r>-1&&(t.checkDataIdsNP=s.slice(0,r).concat(s.slice(r+1)))}else t.checkDataIdsNP=n}}})]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunId))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunModel))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunType))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunMac))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.distributionStorage(e.gunId)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t枪支分配\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])}))]),t._v(" "),a("div",[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",id:"batchAllocation",disabled:"disabled"},on:{click:function(e){t.distributionStorageAll()}}},[t._v("\n                          批量枪支分配\n                      ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]):t._e(),t._v(" "),1==t.cur?a("li",[t._m(1)]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])]):t._e(),t._v(" "),t.cur==t.all?a("li",[t._m(2)]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right"},[e("button",{staticClass:"btn-toggle-collapse",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-chevron-up"})]),this._v(" "),e("button",{staticClass:"btn-remove",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-cross"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"banclick"},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("«")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"banclick"},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("»")])])}]};var T=a("VU/8")(D,G,!1,function(t){a("+bpr")},"data-v-6e6e94ab",null).exports,z={name:"Predistribution",data:function(){return{filterInputPreselected:"",appListPreselected:[],pn:1,all:"",cur:"",total:"",pageSize:""}},watch:{cur:function(t,e){console.log(arguments)}},methods:{getAppListPreselected:function(t){var e=this;this.$axios.get("/appGun/readAppGunBinding?pn="+t).then(function(t){console.log("你好你阿斯顿发"),console.log(t.data.extend.pageInfo.list),e.appListPreselected=t.data.extend.pageInfo.list;var a=t.data.extend.pageInfo;e.all=a.pages,e.cur=a.pageNum,e.total=a.total,e.pageSize=a.pageSize})},filterByPreselected:function(t,e){return t.filter(function(t){return t.appName.match(e)})},distributionStorage:function(t){this.$axios.post("/wareHouseRecords/createDeviceBindingGunsBeforehandDelivery?appId="+t+"&type=5").then(function(t){"1000"==t.data.status?Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}):Lobobix.notify("error",{size:"mini",msg:t.data.errorMessage})})},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getAppListPreselected(this.cur))},pageClick:function(){this.getAppListPreselected(this.cur),console.log("现在在"+this.cur+"页")}},created:function(){this.getAppListPreselected(this.pn)},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"predistribution"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"page-title"},[t._v(t._s(t.$route.name))]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[t._m(0),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-bordered"},[t._m(1),t._v(" "),a("tbody",t._l(t.filterByPreselected(t.appListPreselected,t.filterInputPreselected),function(e,s){return a("tr",[a("td",{staticStyle:{width:"63px"}},[a("span",[t._v(t._s(s+1))])]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.appName))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.counts))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.distributionStorage(e.appId)}}},[t._v("\n                            预出库\n                        ")])])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total==0"}],staticClass:"text-center"},[a("span",{staticStyle:{color:"orange"}},[t._v(" 暂无数据...... ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[t._v("<")])]):t._e(),t._v(" "),1==t.cur?a("li",[a("a",{staticClass:"banclick"},[t._v("<")])]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[t._v(">")])]):t._e(),t._v(" "),t.cur==t.all?a("li",[a("a",{staticClass:"banclick"},[t._v(">")])]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("枪支分配列表")]),this._v(" "),e("div",{staticClass:"right"},[e("button",{staticClass:"btn-toggle-collapse",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-chevron-up"})]),this._v(" "),e("button",{staticClass:"btn-remove",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-cross"})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("设备名称")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("绑定枪支数目")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("操作")])])])}]};var E=a("VU/8")(z,B,!1,function(t){a("uCqC")},"data-v-e95599aa",null).exports,R=(a("eliS"),{name:"FinalStorage",data:function(){return{filterInputPreselected:"",appListPreselected:[],returnTime:"",pn:1,all:"",cur:"",total:"",pageSize:""}},watch:{cur:function(t,e){console.log(arguments)}},methods:{getAppListPreselected:function(t){var e=this;this.$axios.get("/appGun/readAppGunBinding?pn="+t+"&type=2").then(function(t){console.log(t.data.extend.pageInfo.list),e.appListPreselected=t.data.extend.pageInfo.list;var a=t.data.extend.pageInfo;e.all=a.pages,e.cur=a.pageNum,e.total=a.total,e.pageSize=a.pageSize})},filterByPreselected:function(t,e){return t.filter(function(t){return t.appName.match(e)})},distributionStorage:function(t){var e=this.$refs.returnTime.value;e?this.$axios.post("/wareHouseRecords/createDeviceBindingGunsBeforehandDelivery?appId="+t+"&type=7&endTime="+e).then(function(t){"1000"==t.data.status?Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage})}):layer.msg("请选择截止时间",{time:1e3})},revocationDelivery:function(t){var e=this;layer.confirm("确定要撤销出库？",{btn:["确定","取消"]},function(){e.$axios.delete("/wareHouseRecords/revocationWareHouseRecordsDelivery_2?appId="+t).then(function(t){"1000"==t.data.status?Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage}),layer.msg("撤销成功",{time:500})})},function(){layer.msg("取消成功",{time:500})})},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getAppListPreselected(this.cur))},pageClick:function(){this.getAppListPreselected(this.cur),console.log("现在在"+this.cur+"页")}},created:function(){this.getAppListPreselected(this.pn)},mounted:function(){layui.use("element",function(){layui.element;layui.laydate.render({elem:"#returnTime",type:"datetime"})})},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a}}}),O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finalStorage"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"page-title"},[t._v(t._s(t.$route.name))]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-input-inline"},[t._v("\n                        截止时间：\n                        "),a("input",{ref:"returnTime",staticClass:"layui-input",attrs:{type:"type",id:"returnTime",placeholder:"请选择截止时间"}})])])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[t._m(0),t._v(" "),a("div",{staticClass:"panel-body"},[a("table",{staticClass:"table table-bordered"},[t._m(1),t._v(" "),a("tbody",t._l(t.filterByPreselected(t.appListPreselected,t.filterInputPreselected),function(e,s){return a("tr",[a("td",{staticStyle:{width:"63px"}},[a("span",[t._v(t._s(s+1))])]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.appName))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.counts))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.distributionStorage(e.appId)}}},[t._v("\n                                      出库\n                                  ")]),t._v(" "),a("button",{staticClass:"btn btn-warning btn-sm",attrs:{type:"button"},on:{click:function(a){t.revocationDelivery(e.appId)}}},[t._v("\n                                      撤销\n                                  ")])])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[t._v("<")])]):t._e(),t._v(" "),1==t.cur?a("li",[a("a",{staticClass:"banclick"},[t._v("<")])]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[t._v(">")])]):t._e(),t._v(" "),t.cur==t.all?a("li",[a("a",{staticClass:"banclick"},[t._v(">")])]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total==0"}],staticClass:"text-center"},[a("span",{staticStyle:{color:"orange"}},[t._v(" 暂无数据...... ")])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("枪支分配列表")]),this._v(" "),e("div",{staticClass:"right"},[e("button",{staticClass:"btn-toggle-collapse",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-chevron-up"})]),this._v(" "),e("button",{staticClass:"btn-remove",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-cross"})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("设备名称")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("绑定枪支数目")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("操作")])])])}]};var U=a("VU/8")(R,O,!1,function(t){a("zoCX")},"data-v-a9964b5a",null).exports,H={name:"Map",data:function(){return{setState:!0,setStateGunApp:!0,stateGun:!1,stateApp:!0,gunLocationList:[],readGunDynamicList:[],toggole:!0,map:"",readOffNormalGunCount:"",readOnLineAppCount:"",readOffNormalGunList:[],pn_g:1,all_g:"",cur_g:"",total_g:"",pageSize_g:"",readOnLineAppList:[],pn_d:1,all_d:"",cur_d:"",total_d:"",pageSize_d:""}},methods:{getMap:function(){var t=this,e=new BMap.Map(t.$refs.allmap);t.map=e;var a=new BMap.Point(114.034656,22.616798);t.map.centerAndZoom(a,5),t.map.setDefaultCursor("url('bird.cur')"),t.map.enableScrollWheelZoom(),t.map.enableContinuousZoom(),t.map.enableScrollWheelZoom(!0),t.map.disableDragging(),setTimeout(function(){t.map.enableDragging(),t.map.enableInertialDragging()},2e3),t.map.addControl(new BMap.MapTypeControl({mapTypes:BMAP_HYBRID_MAP})),t.map.setMapType(BMAP_SATELLITE_MAP);var s=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE,enableGeolocation:!0});t.map.addControl(s);var i=new BMap.GeolocationControl;i.addEventListener("locationSuccess",function(t){var e="";e+=t.addressComponent.province,e+=t.addressComponent.city,e+=t.addressComponent.district,e+=t.addressComponent.street,e+=t.addressComponent.streetNumber,layer.alert("当前定位地址为："+e)}),i.addEventListener("locationError",function(t){layer.alert(t.message)}),t.map.addControl(i);var n=new BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:!0});t.map.addControl(n),t.findMap(t.map)},openFindMap:function(t){var e=this;0==setState?clearTimeout(function(){}):1==setState&&setTimeout(function(){e.findMap(t)},1e3)},findMap:function(t){var e=this;e.setState?setTimeout(function(){e.findMap(t)},1e3):clearTimeout(function(){e.findMap(t)});var a=[],s=[],i="",n="<div style='height: 1px;border-bottom: 1px dashed rgba(255,255,255,0.5); width:128px; margin-bottom: -18px; margin-top: 2px;'></div>";e.$axios.get("/gunLocation/readAppAndGunLocation").then(function(o){e.map.clearOverlays(),e.gunLocationList=o.data.extend.gunLocations,$.each(e.gunLocationList,function(o,r){a[o]=r.longitude,s[o]=r.latitude,i=0==r.typeImei?new BMap.Icon("/static/assets/img/device.png",new BMap.Size(68,75)):new BMap.Icon("/static/assets/img/offNormalGun.png",new BMap.Size(68,75));var l=null;l=new BMap.Marker(new BMap.Point(a[o],s[o]),{icon:i}),t.addOverlay(l),function(t){t.addEventListener("click",function(t){e.findLocation(r.imei)})}(l),function(t){t.addEventListener("rightclick",function(t){t.overlay?alert("12312"):e.getLocationName(r.longitude,r.latitude)})}(l);var c;c=0==r.typeImei?"<div class='tag2' style='padding-left:10px;padding-top:6px;line-height:20px;width:150px; height:133px; border:1px solid #f8b400; position:relative; border-radius:8px; background-color:#f8b400;'>设备名："+r.appName+n+"</br>电话："+r.appPhone+n+"</br></div>":"<div class='tag2' style='padding-left:10px;padding-top:6px;line-height:20px;width:150px; height:133px; border:1px solid #f8b400; position:relative; border-radius:8px; background-color:#f8b400;'>枪号："+r.gunId+n+"</br>设备名："+r.appName+n+"</br>类型："+(0==r.gunType?"长枪":"短枪")+n+"</br></div>",l.addEventListener("mouseover",function(t){var a;e.setState=!0,(a=new BMap.Label(c,{offset:new BMap.Size(-50,-145)})).setStyle({color:"#302e18",width:"100%",height:"100%",fontSize:"14px"}),l.setLabel(a)}),l.addEventListener("mouseout",function(t){e.setState=!0;var a=this.getLabel();setTimeout(function(){a.setContent(""),a.setStyle({border:"none",width:"0px",padding:"0px"})},1e3)}),a[o]=new BMap.Point(a[o],s[o])})}).catch(function(t){console.log(t)})},getLocationName:function(t,e){this.$axios.get("/locationUtil/getLocation?lng="+t+"&lat="+e).then(function(t){layer.alert(t.data.extend.realLocations)})},findLocation:function(t){var e=this;e.map.clearOverlays();var a=[],s=[],i="",n="<div style='height: 1px;border-bottom: 1px dashed rgba(255,255,255,0.5); width:128px; margin-bottom: -18px; margin-top: 2px;'></div>";e.$axios.get("/gunLocation/readAppAndGunLocation?imei="+t).then(function(t){var o=t.data;$.each(o.extend.gunLocations,function(t,o){a[t]=o.longitude,s[t]=o.latitude,i=0==o.typeImei?new BMap.Icon("/static/assets/img/device.png",new BMap.Size(68,75)):new BMap.Icon("/static/assets/img/offNormalGun.png",new BMap.Size(68,75));var r=null;r=new BMap.Marker(new BMap.Point(a[t],s[t]),{icon:i}),e.map.addOverlay(r),function(t){t.addEventListener("click",function(t){this.getMap()})}(r),function(t){t.addEventListener("rightclick",function(t){t.overlay?layer.alert("12312"):e.getLocationName(o.longitude,o.latitude)})}(r);var l;l="<div class='tag2' style='padding-left:10px;padding-top:6px;line-height:20px;width:150px; height:133px; border:1px solid #f8b400; position:relative; border-radius:8px; background-color:#f8b400;'>IMIE："+o.appIMEI+n+"</br>枪号："+o.gunId+n+"</br></div>",r.addEventListener("mouseover",function(t){new BMap.Label(l,{offset:new BMap.Size(-50,-145)}).setStyle({color:"#302e18",width:"100%",height:"100%",fontSize:"14px"})}),a[t]=new BMap.Point(a[t],s[t]),e.map.setViewport(a)})}).catch(function(t){console.log(t)})},openFindTrajectory:function(t){this.toggole?(alert("轨迹：开启"),this.findTrajectory(t),this.setState=!1):(alert("轨迹：关闭"),this.setState=!0,this.findMap(this.map),this.findLocation(t)),this.toggole=!this.toggole},findTrajectory:function(t){var e=this;e.map.clearOverlays();var a,s=[],i=[],n=[];e.$axios.get("/gunLocation/readGunTrajectory?appImei="+t).then(function(t){var o=t.data;console.log(o),$.each(o.extend.gunTrajectoryList,function(t,r){s[t]=r.longitude,i[t]=r.latitude;var l,c,d=new BMap.Point(s[t],i[t]);0==t?a=new BMap.Icon("/static/assets/img/start.png",new BMap.Size(40,100)):t==o.extend.numberLocations-1?a=new BMap.Icon("/static/assets/img/end.png",new BMap.Size(40,100)):1==r.gunDeviceState?a=new BMap.Icon("/static/assets/img/onlieCenter.png",new BMap.Size(10,10)):0==r.gunDeviceState&&(a=new BMap.Icon("/static/assets/img/centre.png",new BMap.Size(10,10))),l=new BMap.Marker(d,{icon:a}),0!=t&&t!=o.extend.numberLocations-1&&1!=r.gunDeviceState&&2!=r.gunDeviceState||e.map.addOverlay(l),function(t){t.addEventListener("rightclick",function(t){t.overlay?alert("12312"):e.getLocationName(r.longitude,r.latitude)})}(l);var p="<div style='height: 1px;border-bottom: 1px dashed rgba(255,255,255,0.5); width:120px; margin-bottom: -18px; margin-top: 2px;'></div>";c=0==t?"<div class='list-information' style='width:144px; height:80px; border:2px solid rgba(17,123,36,0.8); position:relative; border-radius:8px; background-color:rgba(0,0,0,0.7); padding-top:4px; padding-left:10px;'>开始："+(t+Number(1))+p+"</br>警员编号："+r.deviceNo+p+"</br>时间：1</br></div>":t==o.extend.numberLocations-1?"<div class='list-information' style='width:144px; height:80px; border:2px solid rgba(109,109,109,0.87); position:relative; border-radius:8px; background-color:rgba(0,0,0,0.7); padding-top:4px;  padding-left:10px;'>结束："+(t+Number(1))+p+"</br>警员编号："+r.deviceNo+p+"</br>时间：1</br></div>":"<div class='list-information' style='width:144px; height:80px; border:2px solid rgba(249,0,15,0.8); position:relative; border-radius:8px; background-color:rgba(0,0,0,0.7); padding-top:4px;  padding-left:10px;'>位数："+(t+Number(1))+p+"</br>警员编号："+r.deviceNo+p+"</br>时间：1</br></div>",l.addEventListener("mouseover",function(e){var a;0==t?a=new BMap.Label(c,{offset:new BMap.Size(25,50)}):t==o.extend.numberLocations-1&&(a=new BMap.Label(c,{offset:new BMap.Size(25,50)})),a.setStyle({color:"#eeeeee",width:"100%",height:"100%",fontSize:"14px"}),l.setLabel(a)}),l.addEventListener("mouseout",function(t){var e=this.getLabel();setTimeout(function(){e.setContent(""),e.setStyle({border:"none",width:"0px",padding:"0px"})},1e3)}),n.push(d),s[t]=new BMap.Point(s[t],i[t]),e.map.setViewport(s)});var r=new BMap.Polyline(n,{strokeColor:"blue",strokeWeight:2,strokeOpacity:1});e.map.addOverlay(r)}).catch(function(t){console.log(t)})},getTrajectory:function(){},hoverApp:function(t){this.stateApp=Boolean(t),this.stateGun=Boolean(!t),this.getOnLineAppList(this.pn_d),this.getOffNormalGunCount(),this.getOnLineAppCount()},hoverGun:function(t){this.stateGun=Boolean(t),this.stateApp=Boolean(!t),this.getOffNormalGunList(this.pn_g),this.getOffNormalGunCount(),this.getOnLineAppCount()},close:function(t){1==t?this.stateApp=Boolean(!1):2==t&&(this.stateGun=Boolean(!1))},getReadGunDynamicList:function(t){var e=this;e.$axios.get("/gunLocation/readGunDynamicOptimize?pn="+t).then(function(t){for(var a in console.log(t.data.extend.gunLocations),e.readGunDynamicList=t.data.extend.gunLocations,e.readGunDynamicList)e.readGunDynamicList[a].gunDeviceState=0==e.readGunDynamicList[a].gunDeviceState?"在线":"离位"})},getOnLineAppList:function(t){var e=this;e.$axios.get("/appGun/readOnLineApp?pn="+t).then(function(t){e.readOnLineAppList=t.data.extend.pageInfo.list;var a=t.data.extend.pageInfo;e.all_d=a.pages,e.cur_d=a.pageNum,e.total_d=a.total,e.pageSize_d=a.pageSize})},getOffNormalGunList:function(t){var e=this;e.$axios.get("/appGun/readOffNormalGun?pn="+t).then(function(t){for(var a in e.readOffNormalGunList=t.data.extend.pageInfo.list,e.readOffNormalGunList)e.readOffNormalGunList[a].guns.gunType=0==e.readOffNormalGunList[a].guns.gunType?"长枪":"短枪";var s=t.data.extend.pageInfo;e.all_g=s.pages,e.cur_g=s.pageNum,e.total_g=s.total,e.pageSize_g=s.pageSize})},getOffNormalGunCount:function(){var t=this;t.$axios.get("/appGun/readOffNormalGunCount").then(function(e){t.readOffNormalGunCount=e.data.extend.gunCount})},getOnLineAppCount:function(){var t=this;t.$axios.get("/appGun/readOnLineAppCount").then(function(e){t.readOnLineAppCount=e.data.extend.countApp})},appAndGun:function(){var t=this;t.setStateGunApp?(alert(t.setStateGunApp),setTimeout(function(){t.getOnLineAppCount(),t.getOffNormalGunCount()},1e3)):clearTimeout(function(){})},btnClick_d:function(t){t!=this.cur_d&&(this.cur=t,this.getReadGunDynamicList(this.cu_d))},pageClick_d:function(){this.getReadGunDynamicList(this.cur_d),console.log("现在在"+this.cur_d+"页")},btnClick_g:function(t){t!=this.cur_g&&(this.cur=t,this.getReadGunDynamicList(this.cu_g))},pageClick_g:function(){this.getReadGunDynamicList(this.cur_g),console.log("现在在"+this.cur_g+"页")}},mounted:function(){this.getMap()},created:function(){this.setState=!0,this.getReadGunDynamicList(this.pn),this.getOnLineAppList(this.pn_d),this.getOnLineAppCount(),this.getOffNormalGunCount()},computed:{indexs_d:function(){var t=1,e=this.all_d,a=[];for(this.all_d>=5&&(this.cur_d>3&&this.cur_d<this.all_d-2?(t=this.cur_d-2,e=this.cur_d+2):this.cur_d<=3?(t=1,e=5):(e=this.all_d,t=this.all_d-4));t<=e;)a.push(t),t++;return a},indexs_g:function(){var t=1,e=this.all_g,a=[];for(this.all_g>=5&&(this.cur_g>3&&this.cur_g<this.all_g-2?(t=this.cur_g-2,e=this.cur_g+2):this.cur_g<=3?(t=1,e=5):(e=this.all_g,t=this.all_g-4));t<=e;)a.push(t),t++;return a}},beforeDestroy:function(){this.setState=!1,this.setStateGunApp=!1}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"map"}},[a("div",{ref:"allmap",attrs:{id:"allmap"}}),t._v(" "),a("div",{staticClass:"news",staticStyle:{width:"400px",height:"60px","background-color":"rgba(0,0,0,0.75)",position:"absolute","z-index":"99999",right:"10px",top:"100px",border:"1px solid rgba(255,255,255,0.70)"},attrs:{id:"news"}},[a("div",{staticClass:"dislocation",staticStyle:{"margin-top":"10px",float:"left","padding-left":"40px"},on:{mouseover:function(e){t.hoverApp(!0)}}},[a("img",{staticStyle:{float:"left"},attrs:{src:"static/assets/img/suixing.png"}}),t._v(" "),a("dl",{staticStyle:{color:"#2db5ee",float:"left","margin-left":"10px","margin-top":"-2px","padding-right":"50px","border-right":"1px solid rgba(255,255,255,0.70)"}},[a("dd",{staticStyle:{"font-size":"14px"}},[a("span",{staticStyle:{"font-size":"16px"},attrs:{id:"dislocation"}},[t._v(t._s(t.readOnLineAppCount))]),t._v("个")]),t._v(" "),a("dd",{staticStyle:{"font-size":"14px"}},[t._v("在线设备数")])])]),t._v(" "),a("div",{staticClass:"offline",staticStyle:{"margin-top":"10px",float:"left","padding-left":"50px"},on:{mouseover:function(e){t.hoverGun(!0)}}},[a("img",{staticStyle:{float:"left"},attrs:{src:"static/assets/img/lixian.png"}}),t._v(" "),a("dl",{staticStyle:{color:"#fa117a",float:"left","margin-left":"10px","margin-top":"-2px"}},[a("dd",{staticStyle:{"font-size":"14px"}},[a("span",{staticStyle:{"font-size":"16px"},attrs:{id:"offline"}},[t._v(t._s(t.readOffNormalGunCount))]),t._v("个")]),t._v(" "),a("dd",{staticStyle:{"font-size":"14px"}},[t._v("枪支离位数")])])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.stateApp||t.total_d>t.pageSize_d,expression:"stateApp || total_d>pageSize_d"}],staticClass:"state",staticStyle:{width:"400px",height:"300px","background-color":"rgba(0,0,0,0.75)",position:"absolute","z-index":"99999",right:"10px",top:"166px",border:"1px solid rgba(255,255,255,0.70)"}},[a("table",{staticClass:"table table-condensed"},[t._m(0),t._v(" "),a("tbody",[a("button",{staticClass:"close",staticStyle:{color:"#fff",position:"absolute","margin-top":"-28px",right:"10px"},attrs:{type:"button",id:"close2","data-dismiss":"model","aria-hidden":"true"},on:{click:function(e){t.close(1)}}},[t._v("×\n          ")]),t._v(" "),t._l(t.readOnLineAppList,function(e){return a("tr",{key:e.id,staticStyle:{color:"#e5e5e5","text-align":"center","font-size":"14PX","background-color":"rgba(46,46,46,0.9)"}},[a("td",[t._v(t._s(e.apps.appName))]),t._v(" "),a("td",[t._v(t._s(e.gunId))]),t._v(" "),a("td",[a("span",{staticClass:"label label-success",on:{click:function(a){t.findLocation(e.apps.appImei)}}},[t._v("查询")]),t._v(" "),a("router-link",{staticClass:"label label-primary",attrs:{to:{name:"trajectoryTracking",params:{appImei:e.apps.appImei,name:e.apps.appName,imeiType:0}}}},[t._v("\n                    轨迹\n              ")])],1)])})],2)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.stateGun||t.total_g>t.pageSize_g,expression:"stateGun || total_g>pageSize_g"}],staticClass:"state",staticStyle:{width:"400px",height:"300px","background-color":"rgba(0,0,0,0.75)",position:"absolute","z-index":"99999",right:"10px",top:"166px",border:"1px solid rgba(255,255,255,0.70)"}},[a("table",{staticClass:"table table-condensed"},[t._m(1),t._v(" "),a("tbody",[a("button",{staticClass:"close",staticStyle:{color:"#fff",position:"absolute","margin-top":"-28px",right:"10px"},attrs:{type:"button",id:"close2","data-dismiss":"model","aria-hidden":"true"},on:{click:function(e){t.close(2)}}},[t._v("×\n          ")]),t._v(" "),t._l(t.readOffNormalGunList,function(e){return a("tr",{key:e.id,staticStyle:{color:"#e5e5e5","text-align":"center","font-size":"14PX","background-color":"rgba(46,46,46,0.9)"}},[a("td",[t._v(t._s(e.gunId))]),t._v(" "),a("td",[t._v(t._s(e.apps.appName))]),t._v(" "),a("td",[t._v(t._s(e.guns.gunType))]),t._v(" "),a("td",[a("span",{staticClass:"label label-success",on:{click:function(a){t.findLocation(e.guns.gunImei)}}},[t._v("查询")]),t._v(" "),a("router-link",{staticClass:"label label-primary",attrs:{to:{name:"trajectoryTracking",params:{appImei:e.guns.gunImei,name:e.gunId,imeiType:1}}}},[t._v("\n                    轨迹\n              ")])],1)])})],2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticStyle:{color:"#e5e5e5","font-size":"14PX","background-color":"rgba(36,36,36,0.9)"}},[e("th",{staticClass:"text-center"},[this._v("设备名")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("枪号")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticStyle:{color:"#e5e5e5","font-size":"14PX","background-color":"rgba(36,36,36,0.9)"}},[e("th",{staticClass:"text-center"},[this._v("枪号")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("设备名")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("类型")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("操作")])])])}]};var F=a("VU/8")(H,j,!1,function(t){a("NB3N")},null,null).exports,V={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("div",{staticClass:"clearfix"}),this._v(" "),e("footer",[e("div",{staticClass:"container-fluid"},[e("p",{staticClass:"copyright"},[this._v("Copyright © 2018.Company name All rights reserved. "),e("a",{attrs:{href:"https://baike.so.com/doc/17758328-18309795.html",target:"_blank",title:"云宝网络科技有限公司"}},[this._v("云宝网络科技有限公司")])])])])])}]};var W={name:"LeftSidebar",data:function(){return{permmissionLists:[]}},methods:{loginOut:function(){var t=this;layer.confirm("确定要退出登录？",{btn:["确定","取消"]},function(){t.$axios.post("/webUser/loginOut").then(function(e){var a=e.data;"1000"==a.status?(localStorage.clear(),t.$store.commit("SAVE_USERSTATE",!1),t.$router.replace("/login")):Lobibox.notify("error",{size:"mini",msg:a.errorMessage}),layer.msg(a.errorMessage,{time:500})})},function(){layer.msg("取消成功",{time:500})})},acceptMqtt:function(){var t,e=2e3,a="120.76.156.120",s="TestTopic",i={qos:2};alert("mqttttt"),console.log("connecting to "+a+" 61614");var n={timeout:3,onSuccess:function(){alert("连接成功"),console.log("Connected"),message=new Paho.MQTT.Message("HelloWorld"),message.destinationName="TestTopic",t.subscribe(s,i)},onFailure:function(t){alert("失败"),console.log("Connection Attempt to Host "+a+" Failed"),setTimeout(MQTTconnect,e)},cleanSession:!1};(t=new Paho.MQTT.Client(a,61614,"clientjs")).onMessageArrived=function(t){alert("发送消息："+t.payloadString+"==="+t.destinationName),out_msg="Message received "+t.payloadString+"<br>",out_msg=out_msg+" Message received Topic "+t.destinationName,console.log(out_msg)},t.connect(n)},getMenu:function(){var t=JSON.parse(this.$store.state.userInfo);for(var e in this.permmissionLists=t.extend.permissionLists,this.permmissionLists);}},created:function(){this.$store.state.userRefrsh&&(history.go(0),this.$store.commit("SAVE_REFRESH",!1)),this.getMenu()}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"leftSidebar"},[a("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[a("div",{staticClass:"container-fluid"},[a("div",{staticStyle:{float:"left","margin-top":"16px","font-size":"20px","margin-left":"30px","margin-right":"80px"}},[t._v("\n          枪支定位管理\n        ")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"navbar-btn",staticStyle:{float:"right","margin-top":"20px","margin-right":"10px"}},[a("button",{attrs:{type:"button"},on:{click:t.loginOut}},[t._v("退出")])])])]),t._v(" "),a("div",{staticClass:"sidebar",attrs:{id:"sidebar-nav"}},[a("div",{staticClass:"sidebar-scroll"},[a("nav",t._l(t.permmissionLists,function(e,s){return a("ul",{staticClass:"nav"},[null!=e.children?a("li",[a("a",{staticClass:"collapsed",attrs:{href:"#subPages","data-toggle":"collapse"}},[a("i",{class:e.icon}),t._v(" "),a("span",[t._v(t._s(e.descpt))]),t._v(" "),a("i",{staticClass:"icon-submenu lnr lnr-chevron-left"})]),t._v(" "),a("div",{staticClass:"collapse ",attrs:{id:"subPages"}},t._l(e.children,function(e,s){return a("ul",{staticClass:"nav"},[a("li",[a("router-link",{attrs:{to:e.page,"exact-active-class":"",append:""}},[a("i",{class:e.icon}),t._v(" "),a("span",[t._v(t._s(e.descpt))])])],1)])}))]):a("li",[a("router-link",{attrs:{to:e.page,"exact-active-class":"",append:""}},[a("i",{class:e.icon}),t._v(" "),a("span",[t._v(t._s(e.descpt))])])],1)])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-btn"},[e("button",{staticClass:"btn-toggle-fullwidth",attrs:{type:"button"}},[e("i",{staticClass:"lnr lnr-arrow-left-circle"})])])}]};var J={name:"Home",components:{appFooter:a("VU/8")({name:"Footer",data:function(){return{}}},V,!1,function(t){a("I/5N")},"data-v-48de3ab7",null).exports,appLeftSidebarNavbar:a("VU/8")(W,q,!1,function(t){a("ecp3")},"data-v-759c089c",null).exports}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("div",{attrs:{id:"wrapper"}},[e("app-left-sidebar-navbar"),this._v(" "),e("div",{staticClass:"main"},[e("router-view")],1),this._v(" "),e("app-footer")],1)])},staticRenderFns:[]};var Y=a("VU/8")(J,Z,!1,function(t){a("54My")},"data-v-3f92a54e",null).exports,X=(a("Emnu"),{render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notifications"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("h3",{staticClass:"page-title"},[t._v("Notifications")]),t._v(" "),a("div",{staticClass:"panel",attrs:{id:"toastr-demo"}},[a("div",{staticClass:"panel-body"},[a("h4",[t._v("Context")]),t._v(" "),a("p",{staticClass:"demo-button"},[a("button",{staticClass:"btn btn-primary btn-toastr",attrs:{type:"button","data-context":"info","data-message":"This is general theme info","data-position":"top-right"}},[t._v("General Info")]),t._v(" "),a("button",{staticClass:"btn btn-success btn-toastr",attrs:{type:"button","data-context":"success","data-message":"This is success info","data-position":"top-right"}},[t._v("Success Info")]),t._v(" "),a("button",{staticClass:"btn btn-warning btn-toastr",attrs:{type:"button","data-context":"warning","data-message":"This is warning info","data-position":"top-right"}},[t._v("Warning Info")]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-toastr",attrs:{type:"button","data-context":"error","data-message":"This is error info","data-position":"top-right"}},[t._v("Error Info")])]),t._v(" "),a("br"),t._v(" "),a("h4",[t._v("Position")]),t._v(" "),a("p",{staticClass:"demo-button"},[a("button",{staticClass:"btn btn-default btn-toastr",attrs:{type:"button","data-context":"info","data-message":"Hi, I'm here","data-position":"bottom-right"}},[t._v("Bottom Right")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr",attrs:{type:"button","data-context":"info","data-message":"Hi, I'm here","data-position":"bottom-left"}},[t._v("Bottom Left")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr",attrs:{type:"button","data-context":"info","data-message":"Hi, I'm here","data-position":"top-left"}},[t._v("Top Left")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr",attrs:{type:"button","data-context":"info","data-message":"Hi, I'm here","data-position":"top-right"}},[t._v("Top Right")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr",attrs:{type:"button","data-context":"info","data-message":"Hi, I'm here","data-position":"top-full-width"}},[t._v("Top Full Width")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr",attrs:{type:"button","data-context":"info","data-message":"Hi, I'm here","data-position":"bottom-full-width"}},[t._v("Bottom Full Width")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr",attrs:{type:"button","data-context":"info","data-message":"Hi, I'm here","data-position":"top-center"}},[t._v("Top Center")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr",attrs:{type:"button","data-context":"info","data-message":"Hi, I'm here","data-position":"bottom-center"}},[t._v("Bottom Center")])]),t._v(" "),a("br"),t._v(" "),a("h4",[t._v("Callback")]),t._v(" "),a("p",{staticClass:"demo-button"},[a("button",{staticClass:"btn btn-default btn-toastr-callback",attrs:{type:"button",id:"toastr-callback1","data-context":"info","data-message":"onShown and onHidden callback demo"}},[t._v("onShown and onHidden")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr-callback",attrs:{type:"button",id:"toastr-callback2","data-context":"info","data-message":"Please click me"}},[t._v("onclick")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-toastr-callback",attrs:{type:"button",id:"toastr-callback3","data-context":"info","data-message":"Please click close button"}},[t._v("onCloseClick")])])])])])])])}]});var Q=a("VU/8")({name:"Notifications",data:function(){return{}},created:function(){}},X,!1,function(t){a("rUqN")},"data-v-356d30fa",null).exports,K={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"roleManage"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"heading"},[t._v("角色管理")]),t._v(" "),a("div",{staticClass:"custom-tabs-line tabs-line-bottom left-aligned"},[a("ul",{staticClass:"nav",attrs:{role:"tablist"}},[a("li",{staticClass:"active"},[a("a",{attrs:{href:"#tab-bottom-left1",role:"tab","data-toggle":"tab"}},[t._v("角色列表")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#tab-bottom-left2",role:"tab","data-toggle":"tab"}},[t._v("开通角色 "),a("span",{staticClass:"badge"},[t._v("7")])])])])]),t._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:"tab-bottom-left1"}},[a("ul",{staticClass:"list-unstyled activity-timeline"},[a("li",[a("i",{staticClass:"fa fa-comment activity-icon"}),t._v(" "),a("p",[t._v("Commented on post "),a("a",{attrs:{href:"#"}},[t._v("Prototyping")]),t._v(" "),a("span",{staticClass:"timestamp"},[t._v("2 minutes ago")])])]),t._v(" "),a("li",[a("i",{staticClass:"fa fa-cloud-upload activity-icon"}),t._v(" "),a("p",[t._v("Uploaded new file "),a("a",{attrs:{href:"#"}},[t._v("Proposal.docx")]),t._v(" to project "),a("a",{attrs:{href:"#"}},[t._v("New Year Campaign")]),t._v(" "),a("span",{staticClass:"timestamp"},[t._v("7 hours ago")])])]),t._v(" "),a("li",[a("i",{staticClass:"fa fa-plus activity-icon"}),t._v(" "),a("p",[t._v("Added "),a("a",{attrs:{href:"#"}},[t._v("Martin")]),t._v(" and "),a("a",{attrs:{href:"#"}},[t._v("3 others colleagues")]),t._v(" to project repository "),a("span",{staticClass:"timestamp"},[t._v("Yesterday")])])]),t._v(" "),a("li",[a("i",{staticClass:"fa fa-check activity-icon"}),t._v(" "),a("p",[t._v("Finished 80% of all "),a("a",{attrs:{href:"#"}},[t._v("assigned tasks")]),t._v(" "),a("span",{staticClass:"timestamp"},[t._v("1 day ago")])])])]),t._v(" "),a("div",{staticClass:"margin-top-30 text-center"},[a("a",{staticClass:"btn btn-default",attrs:{href:"#"}},[t._v("See all activity")])])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"tab-bottom-left2"}},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table project-table"},[a("thead",[a("tr",[a("th",[t._v("Title")]),t._v(" "),a("th",[t._v("Progress")]),t._v(" "),a("th",[t._v("Leader")]),t._v(" "),a("th",[t._v("Status")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"#"}},[t._v("Spot Media")])]),t._v(" "),a("td",[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"60%"},attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",[t._v("60% Complete")])])])]),t._v(" "),a("td",[a("img",{staticClass:"avatar img-circle",attrs:{src:"assets/img/user2.png",alt:"Avatar"}}),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("Michael")])]),t._v(" "),a("td",[a("span",{staticClass:"label label-success"},[t._v("ACTIVE")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#"}},[t._v("E-Commerce Site")])]),t._v(" "),a("td",[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"33%"},attrs:{role:"progressbar","aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",[t._v("33% Complete")])])])]),t._v(" "),a("td",[a("img",{staticClass:"avatar img-circle",attrs:{src:"assets/img/user1.png",alt:"Avatar"}}),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("Antonius")])]),t._v(" "),a("td",[a("span",{staticClass:"label label-warning"},[t._v("PENDING")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#"}},[t._v("Project 123GO")])]),t._v(" "),a("td",[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"68%"},attrs:{role:"progressbar","aria-valuenow":"68","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",[t._v("68% Complete")])])])]),t._v(" "),a("td",[a("img",{staticClass:"avatar img-circle",attrs:{src:"assets/img/user1.png",alt:"Avatar"}}),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("Antonius")])]),t._v(" "),a("td",[a("span",{staticClass:"label label-success"},[t._v("ACTIVE")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#"}},[t._v("Wordpress Theme")])]),t._v(" "),a("td",[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"75%"},attrs:{role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",[t._v("75%")])])])]),t._v(" "),a("td",[a("img",{staticClass:"avatar img-circle",attrs:{src:"assets/img/user2.png",alt:"Avatar"}}),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("Michael")])]),t._v(" "),a("td",[a("span",{staticClass:"label label-success"},[t._v("ACTIVE")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#"}},[t._v("Project 123GO")])]),t._v(" "),a("td",[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-success",staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",[t._v("100%")])])])]),t._v(" "),a("td",[a("img",{staticClass:"avatar img-circle",attrs:{src:"assets/img/user1.png",alt:"Avatar"}}),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("Antonius")])]),t._v(" "),a("td",[a("span",{staticClass:"label label-default"},[t._v("CLOSED")])])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"#"}},[t._v("Redesign Landing Page")])]),t._v(" "),a("td",[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-success",staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",[t._v("100%")])])])]),t._v(" "),a("td",[a("img",{staticClass:"avatar img-circle",attrs:{src:"assets/img/user5.png",alt:"Avatar"}}),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("Jason")])]),t._v(" "),a("td",[a("span",{staticClass:"label label-default"},[t._v("CLOSED")])])])])])])])])])])])])])])}]};var tt=a("VU/8")({name:"RoleManage",data:function(){return{}}},K,!1,function(t){a("1aud")},"data-v-b79f6786",null).exports,et={name:"SosMessage",data:function(){return{filterInput:"",checkDataIds:[],sosMessageList:[],pn:1,all:"",cur:"",total:"",pageSize:""}},watch:{checkDataIds:{handler:function(){0==this.checkDataIds.length?$("#batchAllocation").attr("disabled","disabled"):$("#batchAllocation").removeAttr("disabled"),$("#cAll").checked?$(".gIdcheckItem").prop("checked",$(this).prop("checked")):this.checkDataIds.length<$(".gIdcheckItem").length?$("#cAll").prop("checked",!1):$(".gIdcheckItem:checked").length==$(".gIdcheckItem").length&&$("#cAll").prop("checked",!0)},deep:!0},cur:function(t,e){console.log(arguments)}},methods:{checkAll:function(t){var e=document.querySelectorAll(".gIdcheckItem");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIds.push(e[a].value);else this.checkDataIds=[]},getLocation:function(t,e){this.$axios.get("/locationUtil/getLocation?lng="+t+"&lat="+e).then(function(t){layer.alert(t.data.extend.realLocations)})},getSosMessageLists:function(t){var e=this;this.$axios.get("/sosMessage/readSosMessageList?pn="+t).then(function(t){for(var a in console.log(t.data),e.sosMessageList=t.data.extend.pageInfo.list,e.sosMessageList)e.sosMessageList[a].state=0==e.sosMessageList[a].state?"已处理":"未处理";var s=t.data.extend.pageInfo;e.all=s.pages,e.cur=s.pageNum,e.total=s.total,e.pageSize=s.pageSize})},filterBy:function(t,e){return t.filter(function(t){return t.gunMac.match(e)})},toHelpFind:function(t,e){},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getSosMessageLists(this.cur))},pageClick:function(){this.getSosMessageLists(this.cur),console.log("现在在"+this.cur+"页")}},created:function(){this.getSosMessageLists(this.pn)},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a}},filters:{formatDate:function(t){return _(new Date(t),"yyyy-MM-dd hh:mm:ss")}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sosMessage"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v(t._s(t.$route.name))])]),t._v(" "),a("div",{staticClass:"col-md-offset-10"}),t._v(" "),a("div",{staticClass:"panel-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterInput,expression:"filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.filterInput},on:{input:function(e){e.target.composing||(t.filterInput=e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-bordered"},[t._m(0),t._v(" "),a("tbody",t._l(t.filterBy(t.sosMessageList,t.filterInput),function(e,s){return a("tr",{key:e.id},[a("td",{staticStyle:{width:"63px"}},[t._v(t._s(s+1))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunMac))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.guns.gunId))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatDate")(e.sosTime)))]),t._v(" "),"已处理"==e.state?a("td",{staticClass:"text-center"},[t._v("\n                                          "+t._s(e.state)+"\n                                        ")]):t._e(),t._v(" "),"未处理"==e.state?a("td",{staticClass:"text-center",staticStyle:{color:"red"}},[t._v("\n                                          "+t._s(e.state)+"\n                                        ")]):t._e(),t._v(" "),a("td",{staticClass:"text-center"},[a("router-link",{staticClass:"btn btn-warning btn-sm",attrs:{to:{name:"findMap",params:{sosId:e.id,log:e.longitude,lat:e.latitude,type:1}},tag:"button"}},[t._v("\n                                                  位置详情\n                                                ")]),t._v(" "),""==e.gunMac?a("router-link",{staticClass:"btn btn-danger btn-sm",attrs:{to:{name:"findMap",params:{sosId:e.id,log:e.longitude,lat:e.latitude,type:3,gunMac:e.gunMac}},tag:"button"}},[t._v("\n                                                  紧急支援\n                                                ")]):a("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"findMap",params:{sosId:e.id,log:e.longitude,lat:e.latitude,type:2,gunMac:e.gunMac}},tag:"button"}},[t._v("\n                                                  协助查找\n                                                ")])],1)])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total==0"}],staticClass:"text-center"},[a("span",{staticStyle:{color:"orange"}},[t._v(" 暂无数据...... ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[t._v("<")])]):t._e(),t._v(" "),1==t.cur?a("li",[a("a",{staticClass:"banclick"},[t._v("<")])]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[t._v(">")])]):t._e(),t._v(" "),t.cur==t.all?a("li",[a("a",{staticClass:"banclick"},[t._v(">")])]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支蓝牙")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("上报时间")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("处理状态")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])])}]};var st=a("VU/8")(et,at,!1,function(t){a("SQYa")},"data-v-42648972",null).exports,it={name:"FindMap",data:function(){return{gunLocationList:[],log:"",lat:"",type:"",sosId:"",gunMac:"",state:!1,appImeiList:[]}},methods:{getFindMap:function(){var t=this,e=new BMap.Map(t.$refs.allmap),a=new BMap.Point(114.034656,22.616798);e.centerAndZoom(a,5),e.setDefaultCursor("url('bird.cur')"),e.enableScrollWheelZoom(),e.enableContinuousZoom(),e.enableScrollWheelZoom(!0),e.disableDragging(),setTimeout(function(){e.enableDragging(),e.enableInertialDragging()},2e3),e.addControl(new BMap.MapTypeControl({mapTypes:BMAP_NORMAL_MAP})),e.setMapType(BMAP_NORMAL_MAP);var s=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE,enableGeolocation:!0});e.addControl(s);var i=new BMap.GeolocationControl;i.addEventListener("locationSuccess",function(t){var e="";e+=t.addressComponent.province,e+=t.addressComponent.city,e+=t.addressComponent.district,e+=t.addressComponent.street,e+=t.addressComponent.streetNumber,layer.alert("当前定位地址为："+e)}),i.addEventListener("locationError",function(t){layer.alert(t.message)}),e.addControl(i);var n=new BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:!0});if(e.addControl(n),"1"==this.type){var o="",r="<div style='height: 1px;border-bottom: 1px dashed rgba(255,255,255,0.5); width:128px; margin-bottom: -18px; margin-top: 2px;'></div>";o=new BMap.Icon("/static/assets/img/shortGun1.png",new BMap.Size(68,75));var l=null;l=new BMap.Marker(new BMap.Point(this.log,this.lat),{icon:o}),e.addOverlay(l),function(t){t.addEventListener("click",function(t){})}(l),function(t){t.addEventListener("rightclick",function(t){t.overlay?alert("12312"):v(this.log,this.lat)})}(l);var c;c="<div class='tag2' style='padding-left:10px;padding-top:6px;line-height:20px;width:150px; height:133px; border:1px solid #f8b400; position:relative; border-radius:8px; background-color:#f8b400;'>IMIE："+ +r+"</br>电话："+ +r+"</br>枪号："+ +r+"</br></div>",l.addEventListener("mouseover",function(t){var e;(e=new BMap.Label(c,{offset:new BMap.Size(-50,-145)})).setStyle({color:"#302e18",width:"100%",height:"100%",fontSize:"14px"}),l.setLabel(e)}),l.addEventListener("mouseout",function(t){var e=this.getLabel();setTimeout(function(){e.setContent(""),e.setStyle({border:"none",width:"0px",padding:"0px"})},1e3)});var d=[];d.push(new BMap.Point(this.log,this.lat)),e.setViewport(d)}if("2"==this.type){var p=[],u=[];o="",r="<div style='height: 1px;border-bottom: 1px dashed rgba(255,255,255,0.5); width:128px; margin-bottom: -18px; margin-top: 2px;'></div>";t.$axios.get("/gunLocation/readRoundDevice?lng="+this.log+"&lat="+this.lat+"&gunMac="+this.gunMac).then(function(a){t.gunLocationList=a.data.extend.gunRoundDevices;var s=!0,i=!1,n=void 0;try{for(var l,c=x()(t.gunLocationList);!(s=(l=c.next()).done);s=!0){var d=l.value;t.appImeiList.push(d.appImei)}}catch(t){i=!0,n=t}finally{try{!s&&c.return&&c.return()}finally{if(i)throw n}}$.each(t.gunLocationList,function(t,a){p[t]=a.longitude,u[t]=a.latitude,o=new BMap.Icon("/static/assets/img/shortGun1.png",new BMap.Size(68,75));var s=null;s=new BMap.Marker(new BMap.Point(p[t],u[t]),{icon:o}),e.addOverlay(s),function(t){t.addEventListener("click",function(t){getGunLocationClick(a.gunMac)})}(s),function(t){t.addEventListener("rightclick",function(t){t.overlay?alert("12312"):v(a.longitude,a.latitude)})}(s);var i;i="<div class='tag2' style='padding-left:10px;padding-top:6px;line-height:20px;width:150px; height:133px; border:1px solid #f8b400; position:relative; border-radius:8px; background-color:#f8b400;'>IMIE："+a.appIMEI+r+"</br>电话："+a.appPhone+r+"</br>枪号："+a.gunId+r+"</br></div>",s.addEventListener("mouseover",function(t){var e;(e=new BMap.Label(i,{offset:new BMap.Size(-50,-145)})).setStyle({color:"#302e18",width:"100%",height:"100%",fontSize:"14px"}),s.setLabel(e)}),s.addEventListener("mouseout",function(t){var e=this.getLabel();setTimeout(function(){e.setContent(""),e.setStyle({border:"none",width:"0px",padding:"0px"})},1e3)}),p[t]=new BMap.Point(p[t],u[t]),e.setViewport(p)})}).catch(function(t){console.log(t)})}function v(e,a){t.$axios.get("/locationUtil/getLocation?lng="+e+"&lat="+a).then(function(t){layer.alert(t.data.extend.realLocations)})}},pushToAssist:function(t){alert(this.appImeiList);var e=new URLSearchParams;e.append("appImei",this.appImeiList),e.append("sosId",this.sosId),e.append("type",t),this.$axios.post("/sosMessage/createForHelpGun?appImei="+this.appImeiList+"&sosId="+this.sosId+"&type="+t).then(function(t){"1000"==t.data.status?Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}):(t.data.status,layer.msg(t.data.errorMessage,{icon:3}))})},previous:function(){history.go(-1)},hover:function(t){this.state=Boolean(t)},hovers:function(t){this.state=!1}},mounted:function(){this.getFindMap()},created:function(){this.log=this.$route.params.log,this.lat=this.$route.params.lat,this.type=this.$route.params.type,this.sosId=this.$route.params.sosId,this.gunMac=this.$route.params.gunMac}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"findMap"}},[a("div",{ref:"allmap",attrs:{id:"allmap"}}),t._v(" "),"1"!=t.type?a("div",[a("div",{staticClass:"state",staticStyle:{width:"420px",height:"60px","background-color":"rgba(255,255,255)",position:"absolute","z-index":"99999","box-shadow":"0px 0px 4px #cdcdcd",right:"10px",top:"100px","border-radius":"4px"}},[a("div",{staticStyle:{"margin-top":"16px","margin-left":"20px",float:"left"},on:{click:function(e){t.previous(e)}}},[a("img",{attrs:{src:"static/assets/img/fanhui.png"}})]),t._v(" "),a("div",{staticStyle:{width:"1px",height:"40px","background-color":"#dddddd",float:"left","margin-left":"20px","margin-top":"10px"}}),t._v(" "),"2"==t.type?a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right","margin-right":"20px","margin-top":"12px"},attrs:{type:"button"},on:{click:function(e){t.pushToAssist(0)}}},[t._v("一键协助查找")]):t._e(),t._v(" "),"3"==t.type?a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right","margin-right":"20px","margin-top":"12px"},attrs:{type:"button"},on:{click:function(e){t.pushToAssist(1)}}},[t._v("一键紧急支援")]):t._e()]),t._v(" "),a("div",{staticClass:"state",staticStyle:{width:"100px",height:"60px",position:"absolute","z-index":"999999",right:"160px",top:"100px"}},[a("div",{staticStyle:{"font-size":"18px","text-align":"center","margin-top":"16px","margin-left":"-100px"},on:{mouseover:function(e){t.hover(!0)},mousedown:function(e){t.hover(!1)}}},[t._v("附近警员")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.state,expression:"state"}],staticClass:"state",staticStyle:{width:"420px",height:"300px","background-color":"rgba(255,255,255)",position:"absolute","z-index":"99999","box-shadow":"0px 0px 4px #cdcdcd",right:"10px",top:"166px","border-radius":"4px"}},[a("table",{staticClass:"table table-condensed",staticStyle:{width:"400px","margin-left":"10px","margin-top":"10px"},attrs:{id:"gunTag_OffNormal_table"}},[a("button",{staticClass:"close",staticStyle:{color:"#ffffff"},attrs:{type:"button",id:"close2","data-dismiss":"model","aria-hidden":"true"}},[t._v("\n                  ×\n              ")]),t._v(" "),t._m(0),t._v(" "),a("tbody",t._l(t.gunLocationList,function(e){return a("tr",{key:e.id,staticStyle:{color:"#4d4d4d","text-align":"center","font-size":"14PX","background-color":"#fff"}},[a("td",[t._v(t._s(e.gunId))]),t._v(" "),a("td",[t._v(t._s(e.appImei))]),t._v(" "),a("td",[t._v(t._s(e.gunDeviceState))]),t._v(" "),a("td",[t._v("协助查找")])])}))])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticStyle:{color:"#4d4d4d","font-size":"14PX","background-color":"#fff"}},[e("th",{staticClass:"text-center"},[this._v("枪号")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("IMEI")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("状态")]),this._v(" "),e("th",{staticClass:"text-center"},[this._v("操作")])])])}]};var ot=a("VU/8")(it,nt,!1,function(t){a("svO1")},"data-v-c866c5f6",null).exports,rt={name:"Misson",data:function(){return{filterInput:"",checkDataIds:[],missionList:[],pn:1,all:"",cur:"",total:"",pageSize:""}},watch:{checkDataIds:{handler:function(){0==this.checkDataIds.length?$("#batchAllocation").attr("disabled","disabled"):$("#batchAllocation").removeAttr("disabled"),$("#cAll").checked?(alert(123),$(".gIdcheckItem").prop("checked",$(this).prop("checked"))):this.checkDataIds.length<$(".gIdcheckItem").length?$("#cAll").prop("checked",!1):$(".gIdcheckItem:checked").length==$(".gIdcheckItem").length&&$("#cAll").prop("checked",!0)},deep:!0},cur:function(t,e){console.log(arguments)}},methods:{checkAll:function(t){var e=document.querySelectorAll(".gIdcheckItem");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIds.push(e[a].value);else this.checkDataIds=[]},getLocation:function(t,e){this.$axios.get("/locationUtil/getLocation?lng="+t+"&lat="+e).then(function(t){alert(t.data.extend.realLocations)})},getMissionLists:function(t){var e=this;this.$axios.get("/mission/readMission?pn="+t).then(function(t){for(var a in e.missionList=t.data.extend.pageInfo.list,e.missionList)e.missionList[a].type=0==e.missionList[a].type?"协助查找":"紧急支援",e.missionList[a].state=0==e.missionList[a].state?"已处理":1==e.missionList[a].state?"处理中...":"未处理";var s=t.data.extend.pageInfo;e.all=s.pages,e.cur=s.pageNum,e.total=s.total,e.pageSize=s.pageSize})},filterBy:function(t,e){return t.filter(function(t){return t.gunMac.match(e)})},getRestartMission:function(t,e){this.$axios.put("/mission/restartMission?type="+t+"&appImei="+e).then(function(t){var e=t.data;"1000"==e.status?Lobibox.notify("success",{size:"mini",msg:e.errorMessage}):Lobibox.notify("error",{size:"mini",msg:e.errorMessage})})},toHelpFind:function(t,e){},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getMissionLists(this.cur))},pageClick:function(){this.getMissionLists(this.cur),console.log("现在在"+this.cur+"页")}},created:function(){this.getMissionLists(this.pn)},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a}},filters:{formatDate:function(t){return _(new Date(t),"yyyy-MM-dd hh:mm:ss")}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mission"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v(t._s(t.$route.name))])]),t._v(" "),a("div",{staticClass:"col-md-offset-10"}),t._v(" "),a("div",{staticClass:"panel-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterInput,expression:"filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.filterInput},on:{input:function(e){e.target.composing||(t.filterInput=e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[a("input",{attrs:{id:"cAll",type:"checkbox"},on:{click:function(e){t.checkAll(e)}}})]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("丟失枪支")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("协助设备")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("任务类型")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("创建时间")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("处理状态")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.filterBy(t.missionList,t.filterInput),function(e,s){return a("tr",{key:e.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkDataIds,expression:"checkDataIds"}],staticClass:"gIdcheckItem",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.checkDataIds)?t._i(t.checkDataIds,e.id)>-1:t.checkDataIds},on:{change:function(a){var s=t.checkDataIds,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=e.id,r=t._i(s,o);i.checked?r<0&&(t.checkDataIds=s.concat([o])):r>-1&&(t.checkDataIds=s.slice(0,r).concat(s.slice(r+1)))}else t.checkDataIds=n}}})]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.appImei))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.gunMac))]),t._v(" "),"协助查找"==e.type?a("td",{staticClass:"text-center",staticStyle:{color:"orange"}},[t._v("\n                                        "+t._s(e.type)+"\n                                      ")]):a("td",{staticClass:"text-center",staticStyle:{color:"red"}},[t._v("\n                                        "+t._s(e.type)+"\n                                      ")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatDate")(e.createTime)))]),t._v(" "),"已处理"==e.state?a("td",{staticClass:"text-center"},[t._v("\n                                        "+t._s(e.state)+"\n                                      ")]):"未处理"==e.state?a("td",{staticClass:"text-center",staticStyle:{color:"red"}},[t._v("\n                                        "+t._s(e.state)+"\n                                      ")]):a("td",{staticClass:"text-center",staticStyle:{color:"blue"}},[t._v("\n                                        "+t._s(e.state)+"\n                                      ")]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){t.getRestartMission(0,e.appImei)}}},[t._v("\n                                                  重启\n                                              ")]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){t.getRestartMission(1,e.appImei)}}},[t._v("\n                                                  停止\n                                              ")])])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total==0"}],staticClass:"text-center"},[a("span",{staticStyle:{color:"orange"}},[t._v(" 暂无数据...... ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[t._v("<")])]):t._e(),t._v(" "),1==t.cur?a("li",[a("a",{staticClass:"banclick"},[t._v("<")])]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[t._v(">")])]):t._e(),t._v(" "),t.cur==t.all?a("li",[a("a",{staticClass:"banclick"},[t._v(">")])]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])])])])])])])])])},staticRenderFns:[]};var ct=a("VU/8")(rt,lt,!1,function(t){a("pmC+")},"data-v-0b28a80e",null).exports,dt={name:"GunList",data:function(){return{appList:[],filterInput:"",app:"",gunAdd:"",headlineApp:"",isShow:!1,isShowTime:!1,appImei:"",checkDataIds:[],pn:1,all:"",cur:"",total:"",pageSize:""}},watch:{checkDataIds:{handler:function(){0==this.checkDataIds.length?$("#batchAllocation").attr("disabled","disabled"):$("#batchAllocation").removeAttr("disabled"),$("#cAll").checked?(alert(123),$(".gIdcheckItem").prop("checked",$(this).prop("checked"))):this.checkDataIds.length<$(".gIdcheckItem").length?$("#cAll").prop("checked",!1):$(".gIdcheckItem:checked").length==$(".gIdcheckItem").length&&$("#cAll").prop("checked",!0)},deep:!0},cur:function(t,e){console.log(arguments)}},methods:{checkAll:function(t){var e=document.querySelectorAll(".gIdcheckItem");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIds.push(e[a].value);else this.checkDataIds=[]},getAppLists:function(t){var e=this;this.$axios.get("/app/readAppList?pn="+t).then(function(t){for(var a in e.appList=t.data.extend.pageInfo.list,e.appList)e.appList[a].appType=0==e.appList[a].appType?"腕表":"手机";var s=t.data.extend.pageInfo;e.all=s.pages,e.cur=s.pageNum,e.total=s.total,e.pageSize=s.pageSize})},filterBy:function(t,e){return t.filter(function(t){return t.appName.match(e)})},detailsGun:function(t){var e=this;this.isShow=!1,this.isShowTime=!0,this.$axios.get("/gun/readGun?gunId="+t).then(function(t){for(var a in e.gun=t.data.extend.getGun,e.gun){var s=new Date(e.gun.createTime),i=new Date(e.gun.updateTime);e.gun.createTime=_(s,"yyyy-MM-dd hh:mm:ss"),e.gun.updateTime=_(i,"yyyy-MM-dd hh:mm:ss")}e.headlineApp="枪支详细"})},updateAppS:function(t){var e=this;this.isShow=!0,this.isShowTime=!1,this.$axios.get("/app/readApp?appId="+t).then(function(t){e.app=t.data.extend.getapp,e.headlineApp="修改设备信息"})},updateApp:function(t){var e=this;if(this.app.appSystem&&this.app.appSystemVersion&&this.app.appPhoneTypeName){a("mw3O");var s=new URLSearchParams;s.append("id",this.app.id),s.append("appSystem",this.app.appSystem),s.append("appSystemVersion",this.app.appSystemVersion),s.append("appPhoneTypeName",this.app.appPhoneTypeName),s.append("appName",this.app.appName),s.append("appMac",this.app.appMac),s.append("appImei",this.app.appImei),s.append("appPhone",this.app.appPhone),s.append("appReadableCode",this.app.appReadableCode),s.append("appType",this.app.appType),s.append("version",this.app.version),this.$axios.put("/app/updateApp",s).then(function(t){"1000"==t.data.status?($("#exampleModal").modal("hide"),e.getAppLists(e.cur),Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage})):layer.alert(t.data.errorMessage,{icon:2,skin:"layer-ext-moon"})}).catch(function(t){return console.log("error",t),t}),t.preventDefault()}else layer.alert("请添加对应的信息!");t.preventDefault()},deleteGun:function(t,e){var a=this;layer.confirm("确定要["+e+"]删除？",{btn:["确定","取消"]},function(){a.$axios.delete("/gun/deleteGun?gunId="+t+"&type=1").then(function(t){t.data;"1000"==t.data.status?($("#batchAllocation").attr("disabled","disabled"),a.checkDataIds=[],a.getAppLists(a.cur),$(".gIdcheckItem:checked").prop("checked",!1),Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage})):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage}),layer.msg("删除成功",{time:500})})},function(){layer.msg("取消成功",{time:500})})},deleteGunAll:function(){var t=this;t.checkDataIds<1?layer.alert("请勾选您要删除的信息",{icon:3,skin:"layer-ext-moon"}):layer.confirm("确定要["+t.checkDataIds+"]删除？",{btn:["确定","取消"]},function(){t.$axios.delete("/gun/deleteGun?gunId="+t.checkDataIds+"&type=1").then(function(e){e.data;"1000"==e.data.status?(t.getAppLists(t.cur),$("#batchAllocation").attr("disabled","disabled"),t.checkDataIds=[],Lobibox.notify("success",{size:"mini",msg:e.data.errorMessage})):Lobibox.notify("error",{size:"mini",msg:e.data.errorMessage}),layer.msg("删除成功",{time:500})})},function(){layer.msg("取消成功",{time:500})})},reset_from:function(t){$(t)[0].reset()},createGunS:function(){this.isShow=!1,this.isShowTime=!1,this.headlineApp="新增枪支信息",this.reset_from("#exampleModalAdd form")},createApp:function(t){var e=this;if(e.$refs.appSystem.value&&e.$refs.appSystemVersion.value&&e.$refs.appPhoneTypeName.value){a("mw3O");var s=new URLSearchParams;s.append("appSystem",e.$refs.appSystem.value),s.append("appSystemVersion",e.$refs.appSystemVersion.value),s.append("appPhoneTypeName",e.$refs.appPhoneTypeName.value),s.append("appName",e.$refs.appName.value),s.append("appMac",e.$refs.appMac.value),s.append("appImei",e.$refs.appImei.value),s.append("appPhone",e.$refs.appPhone.value),s.append("appReadableCode",e.$refs.appReadableCode.value),s.append("appType",e.$refs.appType.value),e.$axios.post("/app/createApp",s).then(function(t){console.log(t.data),"1000"==t.data.status?($("#exampleModalAdd").modal("hide"),e.getAppLists(e.cur),Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage})):(t.data.status,layer.msg(t.data.errorMessage,{icon:3}))}).catch(function(t){return console.log("error",t),t}),t.preventDefault()}else layer.alert("请添加对应的信息!");t.preventDefault()},setUpParametersS:function(t){this.reset_from("#exampleModalParameter form"),this.appImei="",this.appImei=t},setUpParameters:function(){var t=this,e=new URLSearchParams,a=t.$refs.powerAlarmLevel.value,s=t.$refs.transmittingPower.value,i=t.$refs.broadcastInterval.value,n=t.$refs.connectionInterval.value,o=t.$refs.connectionTimeout.value,r=t.$refs.softwareDeviceVersion.value,l=t.$refs.heartbeat.value,c=t.$refs.powerSampling.value,d=t.$refs.matchTime.value,p=t.$refs.positioningInterval.value,u=t.$refs.safeCode.value;a&&s&&i&&n&&o&&r&&l&&c&&d&&p&&u?(e.append("powerAlarmLevel",a),e.append("transmittingPower",s),e.append("broadcastInterval",i),e.append("connectionInterval",n),e.append("connectionTimeout",o),e.append("softwareDeviceVersion",r),e.append("heartbeat",l),e.append("powerSampling",c),e.append("matchTime",d),e.append("positioningInterval",p),e.append("safeCode",u)):layer.msg("推送参数不能有空值"),layer.confirm("确定要参数设置正确？",{btn:["确定","取消"]},function(){t.$axios.post("/app/appSetUpParameters?appImei="+t.appImei,e).then(function(t){"1000"==t.data.status?($("#exampleModalParameter").modal("hide"),Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}),layer.msg("推送成功",{time:500})):(t.data.status,layer.msg(t.data.errorMessage,{icon:3}))})},function(){layer.msg("取消成功",{time:500})})},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getAppLists(this.cur))},pageClick:function(){this.getAppLists(this.cur),console.log("现在在"+this.cur+"页")}},created:function(){this.getAppLists(this.pn)},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a}},filters:{formatDate:function(t){return _(new Date(t),"yyyy-MM-dd hh:mm:ss")}}},pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gunList"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v(t._s(t.$route.name))])]),t._v(" "),a("div",{staticClass:"col-md-offset-10"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModalAdd"},on:{click:t.createGunS}},[a("i",{staticClass:"fa fa-plus-square"}),t._v(" 新增\n                  ")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterInput,expression:"filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.filterInput},on:{input:function(e){e.target.composing||(t.filterInput=e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[a("input",{attrs:{id:"cAll",type:"checkbox"},on:{click:function(e){t.checkAll(e)}}})]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备名称")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("IMEI")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备电话")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备类型")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.filterBy(t.appList,t.filterInput),function(e){return a("tr",{key:e.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkDataIds,expression:"checkDataIds"}],staticClass:"gIdcheckItem",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.checkDataIds)?t._i(t.checkDataIds,e.id)>-1:t.checkDataIds},on:{change:function(a){var s=t.checkDataIds,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=e.id,r=t._i(s,o);i.checked?r<0&&(t.checkDataIds=s.concat([o])):r>-1&&(t.checkDataIds=s.slice(0,r).concat(s.slice(r+1)))}else t.checkDataIds=n}}})]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.appName))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.appImei))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.appPhone))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.appType))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModalParameter"},on:{click:function(a){t.setUpParametersS(e.appImei)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t设置参数\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("button",{staticClass:"btn btn-warning btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){t.updateAppS(e.id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t修改\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])}))]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:0!=t.total,expression:"total!=0"}],staticClass:"btn btn-danger btn-sm",attrs:{type:"button",id:"batchAllocation",disabled:"disabled"},on:{click:t.deleteGunAll}},[a("i",{staticClass:"fa fa-trash-o"}),t._v(" 批量删除\n\t\t\t\t\t\t\t\t  ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total==0"}],staticClass:"text-center"},[a("span",{staticStyle:{color:"orange"}},[t._v(" 暂无数据...... ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[t._v("<")])]):t._e(),t._v(" "),1==t.cur?a("li",[a("a",{staticClass:"banclick"},[t._v("<")])]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[t._v(">")])]):t._e(),t._v(" "),t.cur==t.all?a("li",[a("a",{staticClass:"banclick"},[t._v(">")])]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])])])])])])])]),t._v(" "),a("form",[a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.headlineApp))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.id,expression:"app.id"}],staticClass:"form-control",attrs:{type:"hidden",id:"formGroupInputSmall",placeholder:""},domProps:{value:t.app.id},on:{input:function(e){e.target.composing||t.$set(t.app,"id",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.version,expression:"app.version"}],staticClass:"form-control",attrs:{type:"hidden",id:"formGroupInputSmall",placeholder:""},domProps:{value:t.app.version},on:{input:function(e){e.target.composing||t.$set(t.app,"version",e.target.value)}}}),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备系统")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appSystem,expression:"app.appSystem"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备系统"},domProps:{value:t.app.appSystem},on:{input:function(e){e.target.composing||t.$set(t.app,"appSystem",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备系统版本")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appSystemVersion,expression:"app.appSystemVersion"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备系统版本"},domProps:{value:t.app.appSystemVersion},on:{input:function(e){e.target.composing||t.$set(t.app,"appSystemVersion",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备名")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appPhoneTypeName,expression:"app.appPhoneTypeName"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备名"},domProps:{value:t.app.appPhoneTypeName},on:{input:function(e){e.target.composing||t.$set(t.app,"appPhoneTypeName",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备名字")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appName,expression:"app.appName"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备名字"},domProps:{value:t.app.appName},on:{input:function(e){e.target.composing||t.$set(t.app,"appName",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备蓝牙号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appMac,expression:"app.appMac"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备蓝牙号"},domProps:{value:t.app.appMac},on:{input:function(e){e.target.composing||t.$set(t.app,"appMac",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("IMEI号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appImei,expression:"app.appImei"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"IMEI号"},domProps:{value:t.app.appImei},on:{input:function(e){e.target.composing||t.$set(t.app,"appImei",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备电话")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appPhone,expression:"app.appPhone"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备电话"},domProps:{value:t.app.appPhone},on:{input:function(e){e.target.composing||t.$set(t.app,"appPhone",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("可识别号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appReadableCode,expression:"app.appReadableCode"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"可识别号"},domProps:{value:t.app.appReadableCode},on:{input:function(e){e.target.composing||t.$set(t.app,"appReadableCode",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备类型")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.app.appType,expression:"app.appType"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备类型"},domProps:{value:t.app.appType},on:{input:function(e){e.target.composing||t.$set(t.app,"appType",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateApp}},[t._v("确认")])])])])])]),t._v(" "),a("form",[a("div",{staticClass:"modal fade",attrs:{id:"exampleModalAdd",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.headlineApp))]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备系统")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appSystem",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备系统"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备系统版本")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appSystemVersion",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备系统版本"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备名")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appPhoneTypeName",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备名"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备名字")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appName",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备名字"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备蓝牙号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appMac",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备蓝牙号"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("IMEI号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appImei",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"IMEI号"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备电话")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appPhone",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备电话"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("可识别号")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appReadableCode",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"可识别号"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("设备类型")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"appType",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",placeholder:"设备类型"}})])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.createApp}},[t._v("提交")])])])])])]),t._v(" "),a("form",[a("div",{staticClass:"modal fade",attrs:{id:"exampleModalParameter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("电量报警级别")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"powerAlarmLevel",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("发射功率")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"transmittingPower",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("广播间隔")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"broadcastInterval",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("连接间隔")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"connectionInterval",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("连接超时")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"connectionTimeout",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("软硬件版本")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"softwareDeviceVersion",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("心跳间隔")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"heartbeat",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("电量采样间隔")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"powerSampling",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("匹配最大时间")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"matchTime",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12",placeholder:"匹配最大时间"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("定位间隔")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"positioningInterval",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])]),t._v(" "),a("div",{staticClass:"form-group form-group-sm"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"formGroupInputSmall"}},[t._v("安全字")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{ref:"safeCode",staticClass:"form-control",attrs:{type:"text",id:"formGroupInputSmall",onkeyup:"this.value=this.value.replace(/[^-\\d\\.]/ig,'')",value:"12"}})])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.setUpParameters()}}},[t._v("推送设置")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("设置参数")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var ut=a("VU/8")(dt,pt,!1,function(t){a("K0LQ")},"data-v-7db95236",null).exports,vt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dataStatistics"},[e("div",{staticClass:"main-content"})])}]};var mt={name:"ProjectileBase",data:function(){return{wareHouseRecordList:[],filterInput:"",wareHouseRecord:"",headlineGun:"",isShow:!1,isShowTime:!1,checkDataIds:[],pn:1,all:"",cur:"",total:"",pageSize:""}},watch:{checkDataIds:{handler:function(){0==this.checkDataIds.length?$("#batchAllocation").attr("disabled","disabled"):$("#batchAllocation").removeAttr("disabled"),$("#cAll").checked?(alert(123),$(".gIdcheckItem").prop("checked",$(this).prop("checked"))):this.checkDataIds.length<$(".gIdcheckItem").length?$("#cAll").prop("checked",!1):$(".gIdcheckItem:checked").length==$(".gIdcheckItem").length&&$("#cAll").prop("checked",!0)},deep:!0},cur:function(t,e){console.log(arguments)}},methods:{checkAll:function(t){var e=document.querySelectorAll(".gIdcheckItem");if(t.target.checked)for(var a=0;a<e.length;a++)e[a].checked||this.checkDataIds.push(e[a].value);else this.checkDataIds=[]},getWareHouseRecordLists:function(t){var e=this;this.$axios.get("/wareHouseRecords/readWareHouseRecordsByDelivery?pn="+t).then(function(t){e.wareHouseRecordList=t.data.extend.pageInfo.list;var a=t.data.extend.pageInfo;e.all=a.pages,e.cur=a.pageNum,e.total=a.total,e.pageSize=a.pageSize})},filterBy:function(t,e){return t.filter(function(t){return t.gunId.match(e)})},getProjectileBase:function(t,e){this.$axios.get("/wareHouseRecords/theProjectileBase?appId="+t+"&gunId="+e).then(function(t){"1000"==t.data.status?Lobibox.notify("success",{size:"mini",msg:t.data.errorMessage}):Lobibox.notify("error",{size:"mini",msg:t.data.errorMessage})})},reset_from:function(t){$(t)[0].reset()},btnClick:function(t){t!=this.cur&&(this.cur=t,this.getWareHouseRecordLists(this.cur))},pageClick:function(){this.getWareHouseRecordLists(this.cur),console.log("现在在"+this.cur+"页")}},created:function(){this.getWareHouseRecordLists(this.pn)},computed:{indexs:function(){var t=1,e=this.all,a=[];for(this.all>=5&&(this.cur>3&&this.cur<this.all-2?(t=this.cur-2,e=this.cur+2):this.cur<=3?(t=1,e=5):(e=this.all,t=this.all-4));t<=e;)a.push(t),t++;return a}},filters:{formatDate:function(t){return _(new Date(t),"yyyy-MM-dd hh:mm:ss")}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectileBase"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[t._v(t._s(t.$route.name))])]),t._v(" "),a("div",{staticClass:"col-md-offset-10"}),t._v(" "),a("div",{staticClass:"panel-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterInput,expression:"filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.filterInput},on:{input:function(e){e.target.composing||(t.filterInput=e.target.value)}}}),t._v(" "),a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[a("input",{attrs:{id:"cAll",type:"checkbox"},on:{click:function(e){t.checkAll(e)}}})]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支编号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("枪支IMEI")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备号")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备IMEI")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("创建时间")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.filterBy(t.wareHouseRecordList,t.filterInput),function(e){return a("tr",{key:e.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkDataIds,expression:"checkDataIds"}],staticClass:"gIdcheckItem",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.checkDataIds)?t._i(t.checkDataIds,e.id)>-1:t.checkDataIds},on:{change:function(a){var s=t.checkDataIds,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=e.id,r=t._i(s,o);i.checked?r<0&&(t.checkDataIds=s.concat([o])):r>-1&&(t.checkDataIds=s.slice(0,r).concat(s.slice(r+1)))}else t.checkDataIds=n}}})]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.guns.gunId))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.guns.gunImei))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.apps.appName))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.apps.appImei))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatDate")(e.cancelTime)))]),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(a){t.getProjectileBase(e.apps.id,e.guns.gunId)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t申请射弹计数\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total==0"}],staticClass:"text-center"},[a("span",{staticStyle:{color:"orange"}},[t._v(" 暂无数据...... ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total>pageSize"}],staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"page-bar",staticStyle:{margin:"0 auto","margin-left":"20%"}},[a("ul",[t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur=1,t.pageClick()}}},[t._v("首页")])]):t._e(),t._v(" "),t.cur>1?a("li",[a("a",{on:{click:function(e){t.cur--,t.pageClick()}}},[t._v("<")])]):t._e(),t._v(" "),1==t.cur?a("li",[a("a",{staticClass:"banclick"},[t._v("<")])]):t._e(),t._v(" "),t._l(t.indexs,function(e){return a("li",{class:{active:t.cur==e}},[a("a",{on:{click:function(a){t.btnClick(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur++,t.pageClick()}}},[t._v(">")])]):t._e(),t._v(" "),t.cur==t.all?a("li",[a("a",{staticClass:"banclick"},[t._v(">")])]):t._e(),t._v(" "),t.cur!=t.all?a("li",[a("a",{on:{click:function(e){t.cur=t.all,t.pageClick()}}},[t._v("尾页")])]):t._e(),t._v(" "),a("li",[a("a",[t._v("到第"),a("i",[t._v(t._s(t.cur))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.all))]),t._v("页")])]),t._v(" "),a("li",[a("a",[t._v("共"),a("i",[t._v(t._s(t.total))]),t._v("条")])]),t._v(" "),a("li",[a("a",[a("i",[t._v(t._s(t.pageSize))]),t._v("条/页")])])],2)])])])])])])])])])])},staticRenderFns:[]};var _t={name:"TrajectoryTracking",data:function(){return{appImei:"",arrPois:[],liu:[],map:"",nameType:"",lushu:"",imeiType:"",imgType:""}},methods:{getMapTrajectory:function(){var t=this;t.map=new BMap.Map("map_canvas"),t.map.enableScrollWheelZoom(),t.map.centerAndZoom(),t.map.addControl(new BMap.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]}));var e=[],a=[];t.$axios.get("/gunLocation/readGunTrajectory?appImei="+t.appImei+"&imeiType="+t.imeiType).then(function(s){var i=s.data.extend.gunTrajectoryList;if("1000"!=s.data.status)layer.msg(s.data.errorMessage);else{for(var n=0;n<i.length;n++)e[n]=i[n].longitude,a[n]=i[n].latitude,t.arrPois.push(new BMap.Point(e[n],a[n]));t.getData()}})},getData:function(){var t,e=this;e.map.setViewport(e.arrPois),t=new BMap.Marker(e.arrPois[0],{icon:new BMap.Icon(e.imgType,new BMap.Size(52,26),{anchor:new BMap.Size(27,13)})});var a=new BMap.Label(e.nameType,{offset:new BMap.Size(0,-30)});function s(t){return document.getElementById(t)}a.setStyle({border:"1px solid rgb(204, 204, 204)",color:"rgb(0, 0, 0)",borderRadius:"10px",padding:"5px",background:"rgb(255, 255, 255)"}),t.setLabel(a),e.map.addOverlay(t),BMapLib.LuShu.prototype._move=function(t,e,a){var s=[t,e],i=this,n=0,o=this._opts.speed/100,r=this._projection.lngLatToPoint(t),l=this._projection.lngLatToPoint(e),c=Math.round(i._getDistance(r,l)/o);this._map.addOverlay(new BMap.Polyline(s,{strokeColor:"#111",strokeWeight:5,strokeOpacity:.5})),c<1?i._moveNext(++i.i):i._intervalFlag=setInterval(function(){if(n>=c){if(clearInterval(i._intervalFlag),i.i>i._path.length)return;i._moveNext(++i.i)}else{n++;var s=a(r.x,l.x,n,c),o=a(r.y,l.y,n,c),d=i._projection.pointToLngLat(new BMap.Pixel(s,o));if(1==n){var p=null;i.i-1>=0&&(p=i._path[i.i-1]),1==i._opts.enableRotation&&i.setRotation(p,t,e),i._opts.autoView&&(i._map.getBounds().containsPoint(d)||i._map.setCenter(d))}i._marker.setPosition(d),i._setInfoWin(d)}},10)},e.lushu=new BMapLib.LuShu(e.map,e.arrPois,{defaultContent:this.nameType,autoView:!0,icon:new BMap.Icon(e.imgType,new BMap.Size(52,26),{anchor:new BMap.Size(27,13)}),speed:4500,enableRotation:!0}),t.addEventListener("click",function(){t.enableMassClear(),t.hide(),e.lushu.start()}),s("run").onclick=function(){t.enableMassClear(),t.hide(),e.lushu.start()},s("stop").onclick=function(){e.lushu.stop()},s("pause").onclick=function(){e.lushu.pause()},s("hide").onclick=function(){e.lushu.hideInfoWindow()},s("show").onclick=function(){e.lushu.showInfoWindow()}},stop:function(){this.lushu.stop()},previous:function(){history.go(-1)}},mounted:function(){this.getMapTrajectory()},beforeCreate:function(){this.$route.params.appImei||this.$router.push("/map")},created:function(){this.appImei=this.$route.params.appImei,this.nameType=this.$route.params.name,this.imeiType=this.$route.params.imeiType,this.imeiType,this.imgType="/static/assets/img/device.png"},beforeDestroy:function(){this.lushu.stop()}},gt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"trajectoryTracking"},[e("div",{attrs:{id:"map_canvas"}})])}]};var ft=[{path:"/login",name:"Login",component:p},{path:"/home",name:"Home",component:Y,children:[{path:"",name:"map",component:F},{path:"/map",name:"",component:F},{path:"/elements",name:"elements",component:v},{path:"/tables",name:"tables",component:h},{path:"/dataStatistics",name:"数据统计",component:a("VU/8")({name:"DataStatistics",data:function(){return{}}},vt,!1,function(t){a("eUSZ")},"data-v-0e1eb195",null).exports},{path:"/projectileBase",name:"射弹基数",component:a("VU/8")(mt,ht,!1,function(t){a("3wba")},"data-v-07a7b229",null).exports},{path:"/gunList",name:"枪支列表",component:C},{path:"/device",name:"设备列表",component:ut},{path:"/deliveryWarehouse",name:"deliveryWarehouse",component:w},{path:"/allocationGun",name:"allocationGun",component:M},{path:"/storageWarehouse",name:"枪支入库操作",component:N},{path:"/distributionStorage",name:"枪支分配",component:T},{path:"/predistribution",name:"枪支预出库操作",component:E},{path:"/finalStorage",name:"枪支出库操作",component:U},{path:"/notifications",name:"notifications",component:Q},{path:"/sosMessage",name:"警告信息",component:st},{path:"/findMap",name:"findMap",component:ot},{path:"/mission",name:"离位启停",component:ct},{path:"/system/roleManage",name:"角色管理",component:tt},{path:"/trajectoryTracking",name:"trajectoryTracking",component:a("VU/8")(_t,gt,!1,function(t){a("xsZn")},"data-v-5aa8c144",null).exports},{path:"/*",redirect:"/home"},{path:"/*/**",redirect:"/home"}]},{path:"*",redirect:"/login"}],bt=a("mtWM"),Ct=a.n(bt),yt=a("mvHQ"),xt=a.n(yt),It=a("NYxO");n.a.use(It.a);var kt={userInfo:localStorage.getItem("userInfo"),userState:sessionStorage.getItem("userState"),userRefrsh:!1},wt={SAVE_USERINFO:function(t,e){console.log("登录函数触发"),localStorage.setItem("userInfo",xt()(e)),t.userInfo=e,console.log("赋值后的用户信息："+xt()(t.userInfo))},SAVE_USERSTATE:function(t,e){sessionStorage.setItem("userState",e),t.userState=e,console.log("用户是否在线"+xt()(t.userState))},SAVE_REFRESH:function(t,e){t.userRefrsh=e}},St=new It.a.Store({state:kt,mutations:wt});n.a.use(l.a),n.a.prototype.$axios=Ct.a,Ct.a.defaults.baseURL="http://120.76.156.120:8888/gun",Ct.a.defaults.timeout=1e4,Ct.a.defaults.withCredentials=!0,Ct.a.interceptors.request.use(function(t){return t},function(t){return layer.msg("请求超时!"),i.a.reject(t)}),Ct.a.interceptors.response.use(function(t){return t},function(t){if("Error: Network Error"==t&&(layer.msg("服务器被吃了⊙﹏⊙∥"),next("/login")),t.response)switch(t.response.status){case 404:Lt.replace({path:"/login",query:{redirect:Lt.currentRoute.fullPath}})}return i.a.reject(t.response)});var Lt=new l.a({routes:ft,mode:"history",scrollBehavior:function(t,e,a){return a||{x:0,y:0}}});Lt.beforeEach(function(t,e,a){"/login"==t.path?a():"true"==St.state.userState?a(!0):(a("/login"),layer.msg("请先登录！"))}),new n.a({el:"#app",router:Lt,store:St,components:{App:r},template:"<App/>"})},SQYa:function(t,e){},U5bq:function(t,e){},eUSZ:function(t,e){},ecp3:function(t,e){},eliS:function(t,e){},f6PT:function(t,e){},kxXE:function(t,e){},lqU4:function(t,e){},"pmC+":function(t,e){},rUqN:function(t,e){},svO1:function(t,e){},uCqC:function(t,e){},xsZn:function(t,e){},ysJE:function(t,e){},zoCX:function(t,e){}},["NHnr"]);